(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ug(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var ph={exports:{}},ko={},mh={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ms=Symbol.for("react.element"),cg=Symbol.for("react.portal"),dg=Symbol.for("react.fragment"),hg=Symbol.for("react.strict_mode"),fg=Symbol.for("react.profiler"),pg=Symbol.for("react.provider"),mg=Symbol.for("react.context"),gg=Symbol.for("react.forward_ref"),yg=Symbol.for("react.suspense"),vg=Symbol.for("react.memo"),wg=Symbol.for("react.lazy"),Sc=Symbol.iterator;function _g(t){return t===null||typeof t!="object"?null:(t=Sc&&t[Sc]||t["@@iterator"],typeof t=="function"?t:null)}var gh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yh=Object.assign,vh={};function Tr(t,e,n){this.props=t,this.context=e,this.refs=vh,this.updater=n||gh}Tr.prototype.isReactComponent={};Tr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wh(){}wh.prototype=Tr.prototype;function Zl(t,e,n){this.props=t,this.context=e,this.refs=vh,this.updater=n||gh}var eu=Zl.prototype=new wh;eu.constructor=Zl;yh(eu,Tr.prototype);eu.isPureReactComponent=!0;var Cc=Array.isArray,_h=Object.prototype.hasOwnProperty,tu={current:null},xh={key:!0,ref:!0,__self:!0,__source:!0};function kh(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)_h.call(e,r)&&!xh.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ms,type:t,key:i,ref:o,props:s,_owner:tu.current}}function xg(t,e){return{$$typeof:Ms,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ms}function kg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ec=/\/+/g;function Zo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kg(""+t.key):e.toString(36)}function Pi(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ms:case cg:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Zo(o,0):r,Cc(s)?(n="",t!=null&&(n=t.replace(Ec,"$&/")+"/"),Pi(s,e,n,"",function(u){return u})):s!=null&&(nu(s)&&(s=xg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ec,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Cc(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Zo(i,a);o+=Pi(i,e,n,l,s)}else if(l=_g(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Zo(i,a++),o+=Pi(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ys(t,e,n){if(t==null)return t;var r=[],s=0;return Pi(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Sg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Te={current:null},Ti={transition:null},Cg={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Ti,ReactCurrentOwner:tu};function Sh(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:Ys,forEach:function(t,e,n){Ys(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ys(t,function(){e++}),e},toArray:function(t){return Ys(t,function(e){return e})||[]},only:function(t){if(!nu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};L.Component=Tr;L.Fragment=dg;L.Profiler=fg;L.PureComponent=Zl;L.StrictMode=hg;L.Suspense=yg;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cg;L.act=Sh;L.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=yh({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=tu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)_h.call(e,l)&&!xh.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ms,type:t.type,key:s,ref:i,props:r,_owner:o}};L.createContext=function(t){return t={$$typeof:mg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pg,_context:t},t.Consumer=t};L.createElement=kh;L.createFactory=function(t){var e=kh.bind(null,t);return e.type=t,e};L.createRef=function(){return{current:null}};L.forwardRef=function(t){return{$$typeof:gg,render:t}};L.isValidElement=nu;L.lazy=function(t){return{$$typeof:wg,_payload:{_status:-1,_result:t},_init:Sg}};L.memo=function(t,e){return{$$typeof:vg,type:t,compare:e===void 0?null:e}};L.startTransition=function(t){var e=Ti.transition;Ti.transition={};try{t()}finally{Ti.transition=e}};L.unstable_act=Sh;L.useCallback=function(t,e){return Te.current.useCallback(t,e)};L.useContext=function(t){return Te.current.useContext(t)};L.useDebugValue=function(){};L.useDeferredValue=function(t){return Te.current.useDeferredValue(t)};L.useEffect=function(t,e){return Te.current.useEffect(t,e)};L.useId=function(){return Te.current.useId()};L.useImperativeHandle=function(t,e,n){return Te.current.useImperativeHandle(t,e,n)};L.useInsertionEffect=function(t,e){return Te.current.useInsertionEffect(t,e)};L.useLayoutEffect=function(t,e){return Te.current.useLayoutEffect(t,e)};L.useMemo=function(t,e){return Te.current.useMemo(t,e)};L.useReducer=function(t,e,n){return Te.current.useReducer(t,e,n)};L.useRef=function(t){return Te.current.useRef(t)};L.useState=function(t){return Te.current.useState(t)};L.useSyncExternalStore=function(t,e,n){return Te.current.useSyncExternalStore(t,e,n)};L.useTransition=function(){return Te.current.useTransition()};L.version="18.3.1";mh.exports=L;var z=mh.exports;const ji=lg(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg=z,bg=Symbol.for("react.element"),Pg=Symbol.for("react.fragment"),Tg=Object.prototype.hasOwnProperty,jg=Eg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ag={key:!0,ref:!0,__self:!0,__source:!0};function Ch(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Tg.call(e,r)&&!Ag.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:bg,type:t,key:i,ref:o,props:s,_owner:jg.current}}ko.Fragment=Pg;ko.jsx=Ch;ko.jsxs=Ch;ph.exports=ko;var g=ph.exports,Ma={},Eh={exports:{}},Ke={},bh={exports:{}},Ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,P){var A=k.length;k.push(P);e:for(;0<A;){var U=A-1>>>1,re=k[U];if(0<s(re,P))k[U]=P,k[A]=re,A=U;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var P=k[0],A=k.pop();if(A!==P){k[0]=A;e:for(var U=0,re=k.length,it=re>>>1;U<it;){var we=2*(U+1)-1,Mn=k[we],mn=we+1,Xs=k[mn];if(0>s(Mn,A))mn<re&&0>s(Xs,Mn)?(k[U]=Xs,k[mn]=A,U=mn):(k[U]=Mn,k[we]=A,U=we);else if(mn<re&&0>s(Xs,A))k[U]=Xs,k[mn]=A,U=mn;else break e}}return P}function s(k,P){var A=k.sortIndex-P.sortIndex;return A!==0?A:k.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,y=!1,w=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(k){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=k)r(u),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(u)}}function v(k){if(_=!1,p(k),!w)if(n(l)!==null)w=!0,Lr(S);else{var P=n(u);P!==null&&Fr(v,P.startTime-k)}}function S(k,P){w=!1,_&&(_=!1,m(T),T=-1),y=!0;var A=f;try{for(p(P),h=n(l);h!==null&&(!(h.expirationTime>P)||k&&!I());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var re=U(h.expirationTime<=P);P=t.unstable_now(),typeof re=="function"?h.callback=re:h===n(l)&&r(l),p(P)}else r(l);h=n(l)}if(h!==null)var it=!0;else{var we=n(u);we!==null&&Fr(v,we.startTime-P),it=!1}return it}finally{h=null,f=A,y=!1}}var b=!1,C=null,T=-1,N=5,O=-1;function I(){return!(t.unstable_now()-O<N)}function Oe(){if(C!==null){var k=t.unstable_now();O=k;var P=!0;try{P=C(!0,k)}finally{P?st():(b=!1,C=null)}}else b=!1}var st;if(typeof d=="function")st=function(){d(Oe)};else if(typeof MessageChannel<"u"){var Bt=new MessageChannel,Dn=Bt.port2;Bt.port1.onmessage=Oe,st=function(){Dn.postMessage(null)}}else st=function(){x(Oe,0)};function Lr(k){C=k,b||(b=!0,st())}function Fr(k,P){T=x(function(){k(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,Lr(S))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var A=f;f=P;try{return k()}finally{f=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,P){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var A=f;f=k;try{return P()}finally{f=A}},t.unstable_scheduleCallback=function(k,P,A){var U=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?U+A:U):A=U,k){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=A+re,k={id:c++,callback:P,priorityLevel:k,startTime:A,expirationTime:re,sortIndex:-1},A>U?(k.sortIndex=A,e(u,k),n(l)===null&&k===n(u)&&(_?(m(T),T=-1):_=!0,Fr(v,A-U))):(k.sortIndex=re,e(l,k),w||y||(w=!0,Lr(S))),k},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(k){var P=f;return function(){var A=f;f=P;try{return k.apply(this,arguments)}finally{f=A}}}})(Ph);bh.exports=Ph;var Og=bh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg=z,qe=Og;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Th=new Set,ws={};function In(t,e){vr(t,e),vr(t+"Capture",e)}function vr(t,e){for(ws[t]=e,t=0;t<e.length;t++)Th.add(e[t])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ua=Object.prototype.hasOwnProperty,Ng=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bc={},Pc={};function Ig(t){return Ua.call(Pc,t)?!0:Ua.call(bc,t)?!1:Ng.test(t)?Pc[t]=!0:(bc[t]=!0,!1)}function $g(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Lg(t,e,n,r){if(e===null||typeof e>"u"||$g(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function je(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ye[t]=new je(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ye[e]=new je(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ye[t]=new je(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ye[t]=new je(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ye[t]=new je(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ye[t]=new je(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ye[t]=new je(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ye[t]=new je(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ye[t]=new je(t,5,!1,t.toLowerCase(),null,!1,!1)});var ru=/[\-:]([a-z])/g;function su(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ru,su);ye[e]=new je(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ru,su);ye[e]=new je(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ru,su);ye[e]=new je(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ye[t]=new je(t,1,!1,t.toLowerCase(),null,!1,!1)});ye.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ye[t]=new je(t,1,!1,t.toLowerCase(),null,!0,!0)});function iu(t,e,n,r){var s=ye.hasOwnProperty(e)?ye[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Lg(e,n,s,r)&&(n=null),r||s===null?Ig(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ut=Rg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zs=Symbol.for("react.element"),Kn=Symbol.for("react.portal"),Qn=Symbol.for("react.fragment"),ou=Symbol.for("react.strict_mode"),Ba=Symbol.for("react.profiler"),jh=Symbol.for("react.provider"),Ah=Symbol.for("react.context"),au=Symbol.for("react.forward_ref"),za=Symbol.for("react.suspense"),Ha=Symbol.for("react.suspense_list"),lu=Symbol.for("react.memo"),Jt=Symbol.for("react.lazy"),Oh=Symbol.for("react.offscreen"),Tc=Symbol.iterator;function Dr(t){return t===null||typeof t!="object"?null:(t=Tc&&t[Tc]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,ea;function Qr(t){if(ea===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ea=e&&e[1]||""}return`
`+ea+t}var ta=!1;function na(t,e){if(!t||ta)return"";ta=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ta=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qr(t):""}function Fg(t){switch(t.tag){case 5:return Qr(t.type);case 16:return Qr("Lazy");case 13:return Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 2:case 15:return t=na(t.type,!1),t;case 11:return t=na(t.type.render,!1),t;case 1:return t=na(t.type,!0),t;default:return""}}function Va(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qn:return"Fragment";case Kn:return"Portal";case Ba:return"Profiler";case ou:return"StrictMode";case za:return"Suspense";case Ha:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ah:return(t.displayName||"Context")+".Consumer";case jh:return(t._context.displayName||"Context")+".Provider";case au:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lu:return e=t.displayName||null,e!==null?e:Va(t.type)||"Memo";case Jt:e=t._payload,t=t._init;try{return Va(t(e))}catch{}}return null}function Dg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Va(e);case 8:return e===ou?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function un(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Mg(t){var e=Rh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ei(t){t._valueTracker||(t._valueTracker=Mg(t))}function Nh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Rh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ji(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wa(t,e){var n=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=un(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ih(t,e){e=e.checked,e!=null&&iu(t,"checked",e,!1)}function Ja(t,e){Ih(t,e);var n=un(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qa(t,e.type,n):e.hasOwnProperty("defaultValue")&&qa(t,e.type,un(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ac(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qa(t,e,n){(e!=="number"||Ji(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gr=Array.isArray;function ar(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+un(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ka(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Oc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(Gr(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:un(n)}}function $h(t,e){var n=un(e.value),r=un(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Rc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Lh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Lh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ti,Fh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ti=ti||document.createElement("div"),ti.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ti.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _s(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ug=["Webkit","ms","Moz","O"];Object.keys(os).forEach(function(t){Ug.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),os[e]=os[t]})});function Dh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||os.hasOwnProperty(t)&&os[t]?(""+e).trim():e+"px"}function Mh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Dh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Bg=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ga(t,e){if(e){if(Bg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function Xa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ya=null;function uu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Za=null,lr=null,ur=null;function Nc(t){if(t=zs(t)){if(typeof Za!="function")throw Error(E(280));var e=t.stateNode;e&&(e=Po(e),Za(t.stateNode,t.type,e))}}function Uh(t){lr?ur?ur.push(t):ur=[t]:lr=t}function Bh(){if(lr){var t=lr,e=ur;if(ur=lr=null,Nc(t),e)for(t=0;t<e.length;t++)Nc(e[t])}}function zh(t,e){return t(e)}function Hh(){}var ra=!1;function Vh(t,e,n){if(ra)return t(e,n);ra=!0;try{return zh(t,e,n)}finally{ra=!1,(lr!==null||ur!==null)&&(Hh(),Bh())}}function xs(t,e){var n=t.stateNode;if(n===null)return null;var r=Po(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var el=!1;if(Lt)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){el=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{el=!1}function zg(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var as=!1,qi=null,Ki=!1,tl=null,Hg={onError:function(t){as=!0,qi=t}};function Vg(t,e,n,r,s,i,o,a,l){as=!1,qi=null,zg.apply(Hg,arguments)}function Wg(t,e,n,r,s,i,o,a,l){if(Vg.apply(this,arguments),as){if(as){var u=qi;as=!1,qi=null}else throw Error(E(198));Ki||(Ki=!0,tl=u)}}function $n(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Wh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ic(t){if($n(t)!==t)throw Error(E(188))}function Jg(t){var e=t.alternate;if(!e){if(e=$n(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ic(s),t;if(i===r)return Ic(s),e;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Jh(t){return t=Jg(t),t!==null?qh(t):null}function qh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qh(t);if(e!==null)return e;t=t.sibling}return null}var Kh=qe.unstable_scheduleCallback,$c=qe.unstable_cancelCallback,qg=qe.unstable_shouldYield,Kg=qe.unstable_requestPaint,ne=qe.unstable_now,Qg=qe.unstable_getCurrentPriorityLevel,cu=qe.unstable_ImmediatePriority,Qh=qe.unstable_UserBlockingPriority,Qi=qe.unstable_NormalPriority,Gg=qe.unstable_LowPriority,Gh=qe.unstable_IdlePriority,So=null,bt=null;function Xg(t){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(So,t,void 0,(t.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:ey,Yg=Math.log,Zg=Math.LN2;function ey(t){return t>>>=0,t===0?32:31-(Yg(t)/Zg|0)|0}var ni=64,ri=4194304;function Xr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gi(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Xr(a):(i&=o,i!==0&&(r=Xr(i)))}else o=n&~s,o!==0?r=Xr(o):i!==0&&(r=Xr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mt(e),s=1<<n,r|=t[n],e&=~s;return r}function ty(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ny(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-mt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=ty(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function nl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Xh(){var t=ni;return ni<<=1,!(ni&4194240)&&(ni=64),t}function sa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Us(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mt(e),t[e]=n}function ry(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-mt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function du(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var V=0;function Yh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zh,hu,ef,tf,nf,rl=!1,si=[],en=null,tn=null,nn=null,ks=new Map,Ss=new Map,Qt=[],sy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lc(t,e){switch(t){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":ks.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(e.pointerId)}}function Ur(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=zs(e),e!==null&&hu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function iy(t,e,n,r,s){switch(e){case"focusin":return en=Ur(en,t,e,n,r,s),!0;case"dragenter":return tn=Ur(tn,t,e,n,r,s),!0;case"mouseover":return nn=Ur(nn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ks.set(i,Ur(ks.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ss.set(i,Ur(Ss.get(i)||null,t,e,n,r,s)),!0}return!1}function rf(t){var e=Sn(t.target);if(e!==null){var n=$n(e);if(n!==null){if(e=n.tag,e===13){if(e=Wh(n),e!==null){t.blockedOn=e,nf(t.priority,function(){ef(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ai(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ya=r,n.target.dispatchEvent(r),Ya=null}else return e=zs(n),e!==null&&hu(e),t.blockedOn=n,!1;e.shift()}return!0}function Fc(t,e,n){Ai(t)&&n.delete(e)}function oy(){rl=!1,en!==null&&Ai(en)&&(en=null),tn!==null&&Ai(tn)&&(tn=null),nn!==null&&Ai(nn)&&(nn=null),ks.forEach(Fc),Ss.forEach(Fc)}function Br(t,e){t.blockedOn===e&&(t.blockedOn=null,rl||(rl=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,oy)))}function Cs(t){function e(s){return Br(s,t)}if(0<si.length){Br(si[0],t);for(var n=1;n<si.length;n++){var r=si[n];r.blockedOn===t&&(r.blockedOn=null)}}for(en!==null&&Br(en,t),tn!==null&&Br(tn,t),nn!==null&&Br(nn,t),ks.forEach(e),Ss.forEach(e),n=0;n<Qt.length;n++)r=Qt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qt.length&&(n=Qt[0],n.blockedOn===null);)rf(n),n.blockedOn===null&&Qt.shift()}var cr=Ut.ReactCurrentBatchConfig,Xi=!0;function ay(t,e,n,r){var s=V,i=cr.transition;cr.transition=null;try{V=1,fu(t,e,n,r)}finally{V=s,cr.transition=i}}function ly(t,e,n,r){var s=V,i=cr.transition;cr.transition=null;try{V=4,fu(t,e,n,r)}finally{V=s,cr.transition=i}}function fu(t,e,n,r){if(Xi){var s=sl(t,e,n,r);if(s===null)pa(t,e,r,Yi,n),Lc(t,r);else if(iy(s,t,e,n,r))r.stopPropagation();else if(Lc(t,r),e&4&&-1<sy.indexOf(t)){for(;s!==null;){var i=zs(s);if(i!==null&&Zh(i),i=sl(t,e,n,r),i===null&&pa(t,e,r,Yi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else pa(t,e,r,null,n)}}var Yi=null;function sl(t,e,n,r){if(Yi=null,t=uu(r),t=Sn(t),t!==null)if(e=$n(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Wh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yi=t,null}function sf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qg()){case cu:return 1;case Qh:return 4;case Qi:case Gg:return 16;case Gh:return 536870912;default:return 16}default:return 16}}var Yt=null,pu=null,Oi=null;function of(){if(Oi)return Oi;var t,e=pu,n=e.length,r,s="value"in Yt?Yt.value:Yt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Oi=s.slice(t,1<r?1-r:void 0)}function Ri(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ii(){return!0}function Dc(){return!1}function Qe(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ii:Dc,this.isPropagationStopped=Dc,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),e}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mu=Qe(jr),Bs=ee({},jr,{view:0,detail:0}),uy=Qe(Bs),ia,oa,zr,Co=ee({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zr&&(zr&&t.type==="mousemove"?(ia=t.screenX-zr.screenX,oa=t.screenY-zr.screenY):oa=ia=0,zr=t),ia)},movementY:function(t){return"movementY"in t?t.movementY:oa}}),Mc=Qe(Co),cy=ee({},Co,{dataTransfer:0}),dy=Qe(cy),hy=ee({},Bs,{relatedTarget:0}),aa=Qe(hy),fy=ee({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),py=Qe(fy),my=ee({},jr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gy=Qe(my),yy=ee({},jr,{data:0}),Uc=Qe(yy),vy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_y[t])?!!e[t]:!1}function gu(){return xy}var ky=ee({},Bs,{key:function(t){if(t.key){var e=vy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ri(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(t){return t.type==="keypress"?Ri(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ri(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sy=Qe(ky),Cy=ee({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=Qe(Cy),Ey=ee({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),by=Qe(Ey),Py=ee({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ty=Qe(Py),jy=ee({},Co,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ay=Qe(jy),Oy=[9,13,27,32],yu=Lt&&"CompositionEvent"in window,ls=null;Lt&&"documentMode"in document&&(ls=document.documentMode);var Ry=Lt&&"TextEvent"in window&&!ls,af=Lt&&(!yu||ls&&8<ls&&11>=ls),zc=" ",Hc=!1;function lf(t,e){switch(t){case"keyup":return Oy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gn=!1;function Ny(t,e){switch(t){case"compositionend":return uf(e);case"keypress":return e.which!==32?null:(Hc=!0,zc);case"textInput":return t=e.data,t===zc&&Hc?null:t;default:return null}}function Iy(t,e){if(Gn)return t==="compositionend"||!yu&&lf(t,e)?(t=of(),Oi=pu=Yt=null,Gn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return af&&e.locale!=="ko"?null:e.data;default:return null}}var $y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$y[t.type]:e==="textarea"}function cf(t,e,n,r){Uh(r),e=Zi(e,"onChange"),0<e.length&&(n=new mu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var us=null,Es=null;function Ly(t){xf(t,0)}function Eo(t){var e=Zn(t);if(Nh(e))return t}function Fy(t,e){if(t==="change")return e}var df=!1;if(Lt){var la;if(Lt){var ua="oninput"in document;if(!ua){var Wc=document.createElement("div");Wc.setAttribute("oninput","return;"),ua=typeof Wc.oninput=="function"}la=ua}else la=!1;df=la&&(!document.documentMode||9<document.documentMode)}function Jc(){us&&(us.detachEvent("onpropertychange",hf),Es=us=null)}function hf(t){if(t.propertyName==="value"&&Eo(Es)){var e=[];cf(e,Es,t,uu(t)),Vh(Ly,e)}}function Dy(t,e,n){t==="focusin"?(Jc(),us=e,Es=n,us.attachEvent("onpropertychange",hf)):t==="focusout"&&Jc()}function My(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eo(Es)}function Uy(t,e){if(t==="click")return Eo(e)}function By(t,e){if(t==="input"||t==="change")return Eo(e)}function zy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yt=typeof Object.is=="function"?Object.is:zy;function bs(t,e){if(yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ua.call(e,s)||!yt(t[s],e[s]))return!1}return!0}function qc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kc(t,e){var n=qc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qc(n)}}function ff(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ff(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pf(){for(var t=window,e=Ji();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ji(t.document)}return e}function vu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Hy(t){var e=pf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ff(n.ownerDocument.documentElement,n)){if(r!==null&&vu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Kc(n,i);var o=Kc(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Vy=Lt&&"documentMode"in document&&11>=document.documentMode,Xn=null,il=null,cs=null,ol=!1;function Qc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ol||Xn==null||Xn!==Ji(r)||(r=Xn,"selectionStart"in r&&vu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cs&&bs(cs,r)||(cs=r,r=Zi(il,"onSelect"),0<r.length&&(e=new mu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xn)))}function oi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yn={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionend:oi("Transition","TransitionEnd")},ca={},mf={};Lt&&(mf=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function bo(t){if(ca[t])return ca[t];if(!Yn[t])return t;var e=Yn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mf)return ca[t]=e[n];return t}var gf=bo("animationend"),yf=bo("animationiteration"),vf=bo("animationstart"),wf=bo("transitionend"),_f=new Map,Gc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(t,e){_f.set(t,e),In(e,[t])}for(var da=0;da<Gc.length;da++){var ha=Gc[da],Wy=ha.toLowerCase(),Jy=ha[0].toUpperCase()+ha.slice(1);dn(Wy,"on"+Jy)}dn(gf,"onAnimationEnd");dn(yf,"onAnimationIteration");dn(vf,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(wf,"onTransitionEnd");vr("onMouseEnter",["mouseout","mouseover"]);vr("onMouseLeave",["mouseout","mouseover"]);vr("onPointerEnter",["pointerout","pointerover"]);vr("onPointerLeave",["pointerout","pointerover"]);In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));In("onBeforeInput",["compositionend","keypress","textInput","paste"]);In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yr));function Xc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Wg(r,e,void 0,t),t.currentTarget=null}function xf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Xc(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Xc(s,a,u),i=l}}}if(Ki)throw t=tl,Ki=!1,tl=null,t}function K(t,e){var n=e[dl];n===void 0&&(n=e[dl]=new Set);var r=t+"__bubble";n.has(r)||(kf(e,t,2,!1),n.add(r))}function fa(t,e,n){var r=0;e&&(r|=4),kf(n,t,r,e)}var ai="_reactListening"+Math.random().toString(36).slice(2);function Ps(t){if(!t[ai]){t[ai]=!0,Th.forEach(function(n){n!=="selectionchange"&&(qy.has(n)||fa(n,!1,t),fa(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ai]||(e[ai]=!0,fa("selectionchange",!1,e))}}function kf(t,e,n,r){switch(sf(e)){case 1:var s=ay;break;case 4:s=ly;break;default:s=fu}n=s.bind(null,e,n,t),s=void 0,!el||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function pa(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Sn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Vh(function(){var u=i,c=uu(n),h=[];e:{var f=_f.get(t);if(f!==void 0){var y=mu,w=t;switch(t){case"keypress":if(Ri(n)===0)break e;case"keydown":case"keyup":y=Sy;break;case"focusin":w="focus",y=aa;break;case"focusout":w="blur",y=aa;break;case"beforeblur":case"afterblur":y=aa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=dy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=by;break;case gf:case yf:case vf:y=py;break;case wf:y=Ty;break;case"scroll":y=uy;break;case"wheel":y=Ay;break;case"copy":case"cut":case"paste":y=gy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Bc}var _=(e&4)!==0,x=!_&&t==="scroll",m=_?f!==null?f+"Capture":null:f;_=[];for(var d=u,p;d!==null;){p=d;var v=p.stateNode;if(p.tag===5&&v!==null&&(p=v,m!==null&&(v=xs(d,m),v!=null&&_.push(Ts(d,v,p)))),x)break;d=d.return}0<_.length&&(f=new y(f,w,null,n,c),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==Ya&&(w=n.relatedTarget||n.fromElement)&&(Sn(w)||w[Ft]))break e;if((y||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=u,w=w?Sn(w):null,w!==null&&(x=$n(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(_=Mc,v="onMouseLeave",m="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(_=Bc,v="onPointerLeave",m="onPointerEnter",d="pointer"),x=y==null?f:Zn(y),p=w==null?f:Zn(w),f=new _(v,d+"leave",y,n,c),f.target=x,f.relatedTarget=p,v=null,Sn(c)===u&&(_=new _(m,d+"enter",w,n,c),_.target=p,_.relatedTarget=x,v=_),x=v,y&&w)t:{for(_=y,m=w,d=0,p=_;p;p=Un(p))d++;for(p=0,v=m;v;v=Un(v))p++;for(;0<d-p;)_=Un(_),d--;for(;0<p-d;)m=Un(m),p--;for(;d--;){if(_===m||m!==null&&_===m.alternate)break t;_=Un(_),m=Un(m)}_=null}else _=null;y!==null&&Yc(h,f,y,_,!1),w!==null&&x!==null&&Yc(h,x,w,_,!0)}}e:{if(f=u?Zn(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var S=Fy;else if(Vc(f))if(df)S=By;else{S=My;var b=Dy}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Uy);if(S&&(S=S(t,u))){cf(h,S,n,c);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&qa(f,"number",f.value)}switch(b=u?Zn(u):window,t){case"focusin":(Vc(b)||b.contentEditable==="true")&&(Xn=b,il=u,cs=null);break;case"focusout":cs=il=Xn=null;break;case"mousedown":ol=!0;break;case"contextmenu":case"mouseup":case"dragend":ol=!1,Qc(h,n,c);break;case"selectionchange":if(Vy)break;case"keydown":case"keyup":Qc(h,n,c)}var C;if(yu)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Gn?lf(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(af&&n.locale!=="ko"&&(Gn||T!=="onCompositionStart"?T==="onCompositionEnd"&&Gn&&(C=of()):(Yt=c,pu="value"in Yt?Yt.value:Yt.textContent,Gn=!0)),b=Zi(u,T),0<b.length&&(T=new Uc(T,t,null,n,c),h.push({event:T,listeners:b}),C?T.data=C:(C=uf(n),C!==null&&(T.data=C)))),(C=Ry?Ny(t,n):Iy(t,n))&&(u=Zi(u,"onBeforeInput"),0<u.length&&(c=new Uc("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=C))}xf(h,e)})}function Ts(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zi(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=xs(t,n),i!=null&&r.unshift(Ts(t,i,s)),i=xs(t,e),i!=null&&r.push(Ts(t,i,s))),t=t.return}return r}function Un(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yc(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=xs(n,i),l!=null&&o.unshift(Ts(n,l,a))):s||(l=xs(n,i),l!=null&&o.push(Ts(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ky=/\r\n?/g,Qy=/\u0000|\uFFFD/g;function Zc(t){return(typeof t=="string"?t:""+t).replace(Ky,`
`).replace(Qy,"")}function li(t,e,n){if(e=Zc(e),Zc(t)!==e&&n)throw Error(E(425))}function eo(){}var al=null,ll=null;function ul(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cl=typeof setTimeout=="function"?setTimeout:void 0,Gy=typeof clearTimeout=="function"?clearTimeout:void 0,ed=typeof Promise=="function"?Promise:void 0,Xy=typeof queueMicrotask=="function"?queueMicrotask:typeof ed<"u"?function(t){return ed.resolve(null).then(t).catch(Yy)}:cl;function Yy(t){setTimeout(function(){throw t})}function ma(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Cs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Cs(e)}function rn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function td(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ar=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Ar,js="__reactProps$"+Ar,Ft="__reactContainer$"+Ar,dl="__reactEvents$"+Ar,Zy="__reactListeners$"+Ar,e0="__reactHandles$"+Ar;function Sn(t){var e=t[Ct];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ft]||n[Ct]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=td(t);t!==null;){if(n=t[Ct])return n;t=td(t)}return e}t=n,n=t.parentNode}return null}function zs(t){return t=t[Ct]||t[Ft],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function Po(t){return t[js]||null}var hl=[],er=-1;function hn(t){return{current:t}}function Q(t){0>er||(t.current=hl[er],hl[er]=null,er--)}function q(t,e){er++,hl[er]=t.current,t.current=e}var cn={},Ce=hn(cn),Fe=hn(!1),jn=cn;function wr(t,e){var n=t.type.contextTypes;if(!n)return cn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function De(t){return t=t.childContextTypes,t!=null}function to(){Q(Fe),Q(Ce)}function nd(t,e,n){if(Ce.current!==cn)throw Error(E(168));q(Ce,e),q(Fe,n)}function Sf(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(E(108,Dg(t)||"Unknown",s));return ee({},n,r)}function no(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cn,jn=Ce.current,q(Ce,t),q(Fe,Fe.current),!0}function rd(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=Sf(t,e,jn),r.__reactInternalMemoizedMergedChildContext=t,Q(Fe),Q(Ce),q(Ce,t)):Q(Fe),q(Fe,n)}var Rt=null,To=!1,ga=!1;function Cf(t){Rt===null?Rt=[t]:Rt.push(t)}function t0(t){To=!0,Cf(t)}function fn(){if(!ga&&Rt!==null){ga=!0;var t=0,e=V;try{var n=Rt;for(V=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rt=null,To=!1}catch(s){throw Rt!==null&&(Rt=Rt.slice(t+1)),Kh(cu,fn),s}finally{V=e,ga=!1}}return null}var tr=[],nr=0,ro=null,so=0,Xe=[],Ye=0,An=null,Nt=1,It="";function vn(t,e){tr[nr++]=so,tr[nr++]=ro,ro=t,so=e}function Ef(t,e,n){Xe[Ye++]=Nt,Xe[Ye++]=It,Xe[Ye++]=An,An=t;var r=Nt;t=It;var s=32-mt(r)-1;r&=~(1<<s),n+=1;var i=32-mt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Nt=1<<32-mt(e)+s|n<<s|r,It=i+t}else Nt=1<<i|n<<s|r,It=t}function wu(t){t.return!==null&&(vn(t,1),Ef(t,1,0))}function _u(t){for(;t===ro;)ro=tr[--nr],tr[nr]=null,so=tr[--nr],tr[nr]=null;for(;t===An;)An=Xe[--Ye],Xe[Ye]=null,It=Xe[--Ye],Xe[Ye]=null,Nt=Xe[--Ye],Xe[Ye]=null}var Je=null,We=null,G=!1,ht=null;function bf(t,e){var n=Ze(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Je=t,We=rn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Je=t,We=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=An!==null?{id:Nt,overflow:It}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ze(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Je=t,We=null,!0):!1;default:return!1}}function fl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pl(t){if(G){var e=We;if(e){var n=e;if(!sd(t,e)){if(fl(t))throw Error(E(418));e=rn(n.nextSibling);var r=Je;e&&sd(t,e)?bf(r,n):(t.flags=t.flags&-4097|2,G=!1,Je=t)}}else{if(fl(t))throw Error(E(418));t.flags=t.flags&-4097|2,G=!1,Je=t}}}function id(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Je=t}function ui(t){if(t!==Je)return!1;if(!G)return id(t),G=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ul(t.type,t.memoizedProps)),e&&(e=We)){if(fl(t))throw Pf(),Error(E(418));for(;e;)bf(t,e),e=rn(e.nextSibling)}if(id(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){We=rn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}We=null}}else We=Je?rn(t.stateNode.nextSibling):null;return!0}function Pf(){for(var t=We;t;)t=rn(t.nextSibling)}function _r(){We=Je=null,G=!1}function xu(t){ht===null?ht=[t]:ht.push(t)}var n0=Ut.ReactCurrentBatchConfig;function Hr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function ci(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function od(t){var e=t._init;return e(t._payload)}function Tf(t){function e(m,d){if(t){var p=m.deletions;p===null?(m.deletions=[d],m.flags|=16):p.push(d)}}function n(m,d){if(!t)return null;for(;d!==null;)e(m,d),d=d.sibling;return null}function r(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function s(m,d){return m=ln(m,d),m.index=0,m.sibling=null,m}function i(m,d,p){return m.index=p,t?(p=m.alternate,p!==null?(p=p.index,p<d?(m.flags|=2,d):p):(m.flags|=2,d)):(m.flags|=1048576,d)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,d,p,v){return d===null||d.tag!==6?(d=Sa(p,m.mode,v),d.return=m,d):(d=s(d,p),d.return=m,d)}function l(m,d,p,v){var S=p.type;return S===Qn?c(m,d,p.props.children,v,p.key):d!==null&&(d.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jt&&od(S)===d.type)?(v=s(d,p.props),v.ref=Hr(m,d,p),v.return=m,v):(v=Mi(p.type,p.key,p.props,null,m.mode,v),v.ref=Hr(m,d,p),v.return=m,v)}function u(m,d,p,v){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=Ca(p,m.mode,v),d.return=m,d):(d=s(d,p.children||[]),d.return=m,d)}function c(m,d,p,v,S){return d===null||d.tag!==7?(d=Tn(p,m.mode,v,S),d.return=m,d):(d=s(d,p),d.return=m,d)}function h(m,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Sa(""+d,m.mode,p),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Zs:return p=Mi(d.type,d.key,d.props,null,m.mode,p),p.ref=Hr(m,null,d),p.return=m,p;case Kn:return d=Ca(d,m.mode,p),d.return=m,d;case Jt:var v=d._init;return h(m,v(d._payload),p)}if(Gr(d)||Dr(d))return d=Tn(d,m.mode,p,null),d.return=m,d;ci(m,d)}return null}function f(m,d,p,v){var S=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:a(m,d,""+p,v);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Zs:return p.key===S?l(m,d,p,v):null;case Kn:return p.key===S?u(m,d,p,v):null;case Jt:return S=p._init,f(m,d,S(p._payload),v)}if(Gr(p)||Dr(p))return S!==null?null:c(m,d,p,v,null);ci(m,p)}return null}function y(m,d,p,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(p)||null,a(d,m,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zs:return m=m.get(v.key===null?p:v.key)||null,l(d,m,v,S);case Kn:return m=m.get(v.key===null?p:v.key)||null,u(d,m,v,S);case Jt:var b=v._init;return y(m,d,p,b(v._payload),S)}if(Gr(v)||Dr(v))return m=m.get(p)||null,c(d,m,v,S,null);ci(d,v)}return null}function w(m,d,p,v){for(var S=null,b=null,C=d,T=d=0,N=null;C!==null&&T<p.length;T++){C.index>T?(N=C,C=null):N=C.sibling;var O=f(m,C,p[T],v);if(O===null){C===null&&(C=N);break}t&&C&&O.alternate===null&&e(m,C),d=i(O,d,T),b===null?S=O:b.sibling=O,b=O,C=N}if(T===p.length)return n(m,C),G&&vn(m,T),S;if(C===null){for(;T<p.length;T++)C=h(m,p[T],v),C!==null&&(d=i(C,d,T),b===null?S=C:b.sibling=C,b=C);return G&&vn(m,T),S}for(C=r(m,C);T<p.length;T++)N=y(C,m,T,p[T],v),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?T:N.key),d=i(N,d,T),b===null?S=N:b.sibling=N,b=N);return t&&C.forEach(function(I){return e(m,I)}),G&&vn(m,T),S}function _(m,d,p,v){var S=Dr(p);if(typeof S!="function")throw Error(E(150));if(p=S.call(p),p==null)throw Error(E(151));for(var b=S=null,C=d,T=d=0,N=null,O=p.next();C!==null&&!O.done;T++,O=p.next()){C.index>T?(N=C,C=null):N=C.sibling;var I=f(m,C,O.value,v);if(I===null){C===null&&(C=N);break}t&&C&&I.alternate===null&&e(m,C),d=i(I,d,T),b===null?S=I:b.sibling=I,b=I,C=N}if(O.done)return n(m,C),G&&vn(m,T),S;if(C===null){for(;!O.done;T++,O=p.next())O=h(m,O.value,v),O!==null&&(d=i(O,d,T),b===null?S=O:b.sibling=O,b=O);return G&&vn(m,T),S}for(C=r(m,C);!O.done;T++,O=p.next())O=y(C,m,T,O.value,v),O!==null&&(t&&O.alternate!==null&&C.delete(O.key===null?T:O.key),d=i(O,d,T),b===null?S=O:b.sibling=O,b=O);return t&&C.forEach(function(Oe){return e(m,Oe)}),G&&vn(m,T),S}function x(m,d,p,v){if(typeof p=="object"&&p!==null&&p.type===Qn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Zs:e:{for(var S=p.key,b=d;b!==null;){if(b.key===S){if(S=p.type,S===Qn){if(b.tag===7){n(m,b.sibling),d=s(b,p.props.children),d.return=m,m=d;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jt&&od(S)===b.type){n(m,b.sibling),d=s(b,p.props),d.ref=Hr(m,b,p),d.return=m,m=d;break e}n(m,b);break}else e(m,b);b=b.sibling}p.type===Qn?(d=Tn(p.props.children,m.mode,v,p.key),d.return=m,m=d):(v=Mi(p.type,p.key,p.props,null,m.mode,v),v.ref=Hr(m,d,p),v.return=m,m=v)}return o(m);case Kn:e:{for(b=p.key;d!==null;){if(d.key===b)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){n(m,d.sibling),d=s(d,p.children||[]),d.return=m,m=d;break e}else{n(m,d);break}else e(m,d);d=d.sibling}d=Ca(p,m.mode,v),d.return=m,m=d}return o(m);case Jt:return b=p._init,x(m,d,b(p._payload),v)}if(Gr(p))return w(m,d,p,v);if(Dr(p))return _(m,d,p,v);ci(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(n(m,d.sibling),d=s(d,p),d.return=m,m=d):(n(m,d),d=Sa(p,m.mode,v),d.return=m,m=d),o(m)):n(m,d)}return x}var xr=Tf(!0),jf=Tf(!1),io=hn(null),oo=null,rr=null,ku=null;function Su(){ku=rr=oo=null}function Cu(t){var e=io.current;Q(io),t._currentValue=e}function ml(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function dr(t,e){oo=t,ku=rr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Le=!0),t.firstContext=null)}function nt(t){var e=t._currentValue;if(ku!==t)if(t={context:t,memoizedValue:e,next:null},rr===null){if(oo===null)throw Error(E(308));rr=t,oo.dependencies={lanes:0,firstContext:t}}else rr=rr.next=t;return e}var Cn=null;function Eu(t){Cn===null?Cn=[t]:Cn.push(t)}function Af(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Eu(e)):(n.next=s.next,s.next=n),e.interleaved=n,Dt(t,r)}function Dt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qt=!1;function bu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Of(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $t(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Dt(t,n)}return s=r.interleaved,s===null?(e.next=e,Eu(r)):(e.next=s.next,s.next=e),r.interleaved=e,Dt(t,n)}function Ni(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,du(t,n)}}function ad(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ao(t,e,n,r){var s=t.updateQueue;qt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var f=a.lane,y=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,_=a;switch(f=e,y=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){h=w.call(y,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,f=typeof w=="function"?w.call(y,h,f):w,f==null)break e;h=ee({},h,f);break e;case 2:qt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=h):c=c.next=y,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Rn|=o,t.lanes=o,t.memoizedState=h}}function ld(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var Hs={},Pt=hn(Hs),As=hn(Hs),Os=hn(Hs);function En(t){if(t===Hs)throw Error(E(174));return t}function Pu(t,e){switch(q(Os,e),q(As,t),q(Pt,Hs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qa(e,t)}Q(Pt),q(Pt,e)}function kr(){Q(Pt),Q(As),Q(Os)}function Rf(t){En(Os.current);var e=En(Pt.current),n=Qa(e,t.type);e!==n&&(q(As,t),q(Pt,n))}function Tu(t){As.current===t&&(Q(Pt),Q(As))}var Y=hn(0);function lo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ya=[];function ju(){for(var t=0;t<ya.length;t++)ya[t]._workInProgressVersionPrimary=null;ya.length=0}var Ii=Ut.ReactCurrentDispatcher,va=Ut.ReactCurrentBatchConfig,On=0,Z=null,ae=null,he=null,uo=!1,ds=!1,Rs=0,r0=0;function _e(){throw Error(E(321))}function Au(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yt(t[n],e[n]))return!1;return!0}function Ou(t,e,n,r,s,i){if(On=i,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ii.current=t===null||t.memoizedState===null?a0:l0,t=n(r,s),ds){i=0;do{if(ds=!1,Rs=0,25<=i)throw Error(E(301));i+=1,he=ae=null,e.updateQueue=null,Ii.current=u0,t=n(r,s)}while(ds)}if(Ii.current=co,e=ae!==null&&ae.next!==null,On=0,he=ae=Z=null,uo=!1,e)throw Error(E(300));return t}function Ru(){var t=Rs!==0;return Rs=0,t}function xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?Z.memoizedState=he=t:he=he.next=t,he}function rt(){if(ae===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=ae.next;var e=he===null?Z.memoizedState:he.next;if(e!==null)he=e,ae=t;else{if(t===null)throw Error(E(310));ae=t,t={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},he===null?Z.memoizedState=he=t:he=he.next=t}return he}function Ns(t,e){return typeof e=="function"?e(t):e}function wa(t){var e=rt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=ae,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((On&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Z.lanes|=c,Rn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,yt(r,e.memoizedState)||(Le=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Z.lanes|=i,Rn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _a(t){var e=rt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);yt(i,e.memoizedState)||(Le=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Nf(){}function If(t,e){var n=Z,r=rt(),s=e(),i=!yt(r.memoizedState,s);if(i&&(r.memoizedState=s,Le=!0),r=r.queue,Nu(Ff.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||he!==null&&he.memoizedState.tag&1){if(n.flags|=2048,Is(9,Lf.bind(null,n,r,s,e),void 0,null),fe===null)throw Error(E(349));On&30||$f(n,e,s)}return s}function $f(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lf(t,e,n,r){e.value=n,e.getSnapshot=r,Df(e)&&Mf(t)}function Ff(t,e,n){return n(function(){Df(e)&&Mf(t)})}function Df(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yt(t,n)}catch{return!0}}function Mf(t){var e=Dt(t,1);e!==null&&gt(e,t,1,-1)}function ud(t){var e=xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:t},e.queue=t,t=t.dispatch=o0.bind(null,Z,t),[e.memoizedState,t]}function Is(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Uf(){return rt().memoizedState}function $i(t,e,n,r){var s=xt();Z.flags|=t,s.memoizedState=Is(1|e,n,void 0,r===void 0?null:r)}function jo(t,e,n,r){var s=rt();r=r===void 0?null:r;var i=void 0;if(ae!==null){var o=ae.memoizedState;if(i=o.destroy,r!==null&&Au(r,o.deps)){s.memoizedState=Is(e,n,i,r);return}}Z.flags|=t,s.memoizedState=Is(1|e,n,i,r)}function cd(t,e){return $i(8390656,8,t,e)}function Nu(t,e){return jo(2048,8,t,e)}function Bf(t,e){return jo(4,2,t,e)}function zf(t,e){return jo(4,4,t,e)}function Hf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vf(t,e,n){return n=n!=null?n.concat([t]):null,jo(4,4,Hf.bind(null,e,t),n)}function Iu(){}function Wf(t,e){var n=rt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Au(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Jf(t,e){var n=rt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Au(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qf(t,e,n){return On&21?(yt(n,e)||(n=Xh(),Z.lanes|=n,Rn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Le=!0),t.memoizedState=n)}function s0(t,e){var n=V;V=n!==0&&4>n?n:4,t(!0);var r=va.transition;va.transition={};try{t(!1),e()}finally{V=n,va.transition=r}}function Kf(){return rt().memoizedState}function i0(t,e,n){var r=an(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qf(t))Gf(e,n);else if(n=Af(t,e,n,r),n!==null){var s=Pe();gt(n,t,r,s),Xf(n,e,r)}}function o0(t,e,n){var r=an(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qf(t))Gf(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,yt(a,o)){var l=e.interleaved;l===null?(s.next=s,Eu(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Af(t,e,s,r),n!==null&&(s=Pe(),gt(n,t,r,s),Xf(n,e,r))}}function Qf(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function Gf(t,e){ds=uo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Xf(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,du(t,n)}}var co={readContext:nt,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},a0={readContext:nt,useCallback:function(t,e){return xt().memoizedState=[t,e===void 0?null:e],t},useContext:nt,useEffect:cd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$i(4194308,4,Hf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $i(4194308,4,t,e)},useInsertionEffect:function(t,e){return $i(4,2,t,e)},useMemo:function(t,e){var n=xt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=i0.bind(null,Z,t),[r.memoizedState,t]},useRef:function(t){var e=xt();return t={current:t},e.memoizedState=t},useState:ud,useDebugValue:Iu,useDeferredValue:function(t){return xt().memoizedState=t},useTransition:function(){var t=ud(!1),e=t[0];return t=s0.bind(null,t[1]),xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Z,s=xt();if(G){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),fe===null)throw Error(E(349));On&30||$f(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,cd(Ff.bind(null,r,i,t),[t]),r.flags|=2048,Is(9,Lf.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=xt(),e=fe.identifierPrefix;if(G){var n=It,r=Nt;n=(r&~(1<<32-mt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=r0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},l0={readContext:nt,useCallback:Wf,useContext:nt,useEffect:Nu,useImperativeHandle:Vf,useInsertionEffect:Bf,useLayoutEffect:zf,useMemo:Jf,useReducer:wa,useRef:Uf,useState:function(){return wa(Ns)},useDebugValue:Iu,useDeferredValue:function(t){var e=rt();return qf(e,ae.memoizedState,t)},useTransition:function(){var t=wa(Ns)[0],e=rt().memoizedState;return[t,e]},useMutableSource:Nf,useSyncExternalStore:If,useId:Kf,unstable_isNewReconciler:!1},u0={readContext:nt,useCallback:Wf,useContext:nt,useEffect:Nu,useImperativeHandle:Vf,useInsertionEffect:Bf,useLayoutEffect:zf,useMemo:Jf,useReducer:_a,useRef:Uf,useState:function(){return _a(Ns)},useDebugValue:Iu,useDeferredValue:function(t){var e=rt();return ae===null?e.memoizedState=t:qf(e,ae.memoizedState,t)},useTransition:function(){var t=_a(Ns)[0],e=rt().memoizedState;return[t,e]},useMutableSource:Nf,useSyncExternalStore:If,useId:Kf,unstable_isNewReconciler:!1};function lt(t,e){if(t&&t.defaultProps){e=ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function gl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ao={isMounted:function(t){return(t=t._reactInternals)?$n(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pe(),s=an(t),i=$t(r,s);i.payload=e,n!=null&&(i.callback=n),e=sn(t,i,s),e!==null&&(gt(e,t,s,r),Ni(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pe(),s=an(t),i=$t(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=sn(t,i,s),e!==null&&(gt(e,t,s,r),Ni(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pe(),r=an(t),s=$t(n,r);s.tag=2,e!=null&&(s.callback=e),e=sn(t,s,r),e!==null&&(gt(e,t,r,n),Ni(e,t,r))}};function dd(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!bs(n,r)||!bs(s,i):!0}function Yf(t,e,n){var r=!1,s=cn,i=e.contextType;return typeof i=="object"&&i!==null?i=nt(i):(s=De(e)?jn:Ce.current,r=e.contextTypes,i=(r=r!=null)?wr(t,s):cn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ao,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function hd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ao.enqueueReplaceState(e,e.state,null)}function yl(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},bu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=nt(i):(i=De(e)?jn:Ce.current,s.context=wr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(gl(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ao.enqueueReplaceState(s,s.state,null),ao(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Sr(t,e){try{var n="",r=e;do n+=Fg(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function xa(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var c0=typeof WeakMap=="function"?WeakMap:Map;function Zf(t,e,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fo||(fo=!0,Tl=r),vl(t,e)},n}function ep(t,e,n){n=$t(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){vl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){vl(t,e),typeof r!="function"&&(on===null?on=new Set([this]):on.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function fd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new c0;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=C0.bind(null,t,e,n),e.then(t,t))}function pd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function md(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$t(-1,1),e.tag=2,sn(n,e,1))),n.lanes|=1),t)}var d0=Ut.ReactCurrentOwner,Le=!1;function be(t,e,n,r){e.child=t===null?jf(e,null,n,r):xr(e,t.child,n,r)}function gd(t,e,n,r,s){n=n.render;var i=e.ref;return dr(e,s),r=Ou(t,e,n,r,i,s),n=Ru(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mt(t,e,s)):(G&&n&&wu(e),e.flags|=1,be(t,e,r,s),e.child)}function yd(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!zu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,tp(t,e,i,r,s)):(t=Mi(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:bs,n(o,r)&&t.ref===e.ref)return Mt(t,e,s)}return e.flags|=1,t=ln(i,r),t.ref=e.ref,t.return=e,e.child=t}function tp(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(bs(i,r)&&t.ref===e.ref)if(Le=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Le=!0);else return e.lanes=t.lanes,Mt(t,e,s)}return wl(t,e,n,r,s)}function np(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(ir,Ve),Ve|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,q(ir,Ve),Ve|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,q(ir,Ve),Ve|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,q(ir,Ve),Ve|=r;return be(t,e,s,n),e.child}function rp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wl(t,e,n,r,s){var i=De(n)?jn:Ce.current;return i=wr(e,i),dr(e,s),n=Ou(t,e,n,r,i,s),r=Ru(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mt(t,e,s)):(G&&r&&wu(e),e.flags|=1,be(t,e,n,s),e.child)}function vd(t,e,n,r,s){if(De(n)){var i=!0;no(e)}else i=!1;if(dr(e,s),e.stateNode===null)Li(t,e),Yf(e,n,r),yl(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=nt(u):(u=De(n)?jn:Ce.current,u=wr(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&hd(e,o,r,u),qt=!1;var f=e.memoizedState;o.state=f,ao(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Fe.current||qt?(typeof c=="function"&&(gl(e,n,c,r),l=e.memoizedState),(a=qt||dd(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Of(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:lt(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=nt(l):(l=De(n)?jn:Ce.current,l=wr(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&hd(e,o,r,l),qt=!1,f=e.memoizedState,o.state=f,ao(e,r,o,s);var w=e.memoizedState;a!==h||f!==w||Fe.current||qt?(typeof y=="function"&&(gl(e,n,y,r),w=e.memoizedState),(u=qt||dd(e,n,u,r,f,w,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return _l(t,e,n,r,i,s)}function _l(t,e,n,r,s,i){rp(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&rd(e,n,!1),Mt(t,e,i);r=e.stateNode,d0.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=xr(e,t.child,null,i),e.child=xr(e,null,a,i)):be(t,e,a,i),e.memoizedState=r.state,s&&rd(e,n,!0),e.child}function sp(t){var e=t.stateNode;e.pendingContext?nd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nd(t,e.context,!1),Pu(t,e.containerInfo)}function wd(t,e,n,r,s){return _r(),xu(s),e.flags|=256,be(t,e,n,r),e.child}var xl={dehydrated:null,treeContext:null,retryLane:0};function kl(t){return{baseLanes:t,cachePool:null,transitions:null}}function ip(t,e,n){var r=e.pendingProps,s=Y.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),q(Y,s&1),t===null)return pl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=No(o,r,0,null),t=Tn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=kl(n),e.memoizedState=xl,t):$u(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return h0(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ln(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ln(a,i):(i=Tn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?kl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=xl,r}return i=t.child,t=i.sibling,r=ln(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $u(t,e){return e=No({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function di(t,e,n,r){return r!==null&&xu(r),xr(e,t.child,null,n),t=$u(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function h0(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=xa(Error(E(422))),di(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=No({mode:"visible",children:r.children},s,0,null),i=Tn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&xr(e,t.child,null,o),e.child.memoizedState=kl(o),e.memoizedState=xl,i);if(!(e.mode&1))return di(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(E(419)),r=xa(i,r,void 0),di(t,e,o,r)}if(a=(o&t.childLanes)!==0,Le||a){if(r=fe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Dt(t,s),gt(r,t,s,-1))}return Bu(),r=xa(Error(E(421))),di(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=E0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,We=rn(s.nextSibling),Je=e,G=!0,ht=null,t!==null&&(Xe[Ye++]=Nt,Xe[Ye++]=It,Xe[Ye++]=An,Nt=t.id,It=t.overflow,An=e),e=$u(e,r.children),e.flags|=4096,e)}function _d(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ml(t.return,e,n)}function ka(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function op(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(be(t,e,r.children,n),r=Y.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_d(t,n,e);else if(t.tag===19)_d(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(q(Y,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&lo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ka(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&lo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ka(e,!0,n,null,i);break;case"together":ka(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Li(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=ln(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ln(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function f0(t,e,n){switch(e.tag){case 3:sp(e),_r();break;case 5:Rf(e);break;case 1:De(e.type)&&no(e);break;case 4:Pu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;q(io,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(q(Y,Y.current&1),e.flags|=128,null):n&e.child.childLanes?ip(t,e,n):(q(Y,Y.current&1),t=Mt(t,e,n),t!==null?t.sibling:null);q(Y,Y.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return op(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(Y,Y.current),r)break;return null;case 22:case 23:return e.lanes=0,np(t,e,n)}return Mt(t,e,n)}var ap,Sl,lp,up;ap=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sl=function(){};lp=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,En(Pt.current);var i=null;switch(n){case"input":s=Wa(t,s),r=Wa(t,r),i=[];break;case"select":s=ee({},s,{value:void 0}),r=ee({},r,{value:void 0}),i=[];break;case"textarea":s=Ka(t,s),r=Ka(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=eo)}Ga(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ws.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ws.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&K("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};up=function(t,e,n,r){n!==r&&(e.flags|=4)};function Vr(t,e){if(!G)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function p0(t,e,n){var r=e.pendingProps;switch(_u(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(e),null;case 1:return De(e.type)&&to(),xe(e),null;case 3:return r=e.stateNode,kr(),Q(Fe),Q(Ce),ju(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ui(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ht!==null&&(Ol(ht),ht=null))),Sl(t,e),xe(e),null;case 5:Tu(e);var s=En(Os.current);if(n=e.type,t!==null&&e.stateNode!=null)lp(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return xe(e),null}if(t=En(Pt.current),ui(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ct]=e,r[js]=i,t=(e.mode&1)!==0,n){case"dialog":K("cancel",r),K("close",r);break;case"iframe":case"object":case"embed":K("load",r);break;case"video":case"audio":for(s=0;s<Yr.length;s++)K(Yr[s],r);break;case"source":K("error",r);break;case"img":case"image":case"link":K("error",r),K("load",r);break;case"details":K("toggle",r);break;case"input":jc(r,i),K("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},K("invalid",r);break;case"textarea":Oc(r,i),K("invalid",r)}Ga(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&li(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&li(r.textContent,a,t),s=["children",""+a]):ws.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&K("scroll",r)}switch(n){case"input":ei(r),Ac(r,i,!0);break;case"textarea":ei(r),Rc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=eo)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ct]=e,t[js]=r,ap(t,e,!1,!1),e.stateNode=t;e:{switch(o=Xa(n,r),n){case"dialog":K("cancel",t),K("close",t),s=r;break;case"iframe":case"object":case"embed":K("load",t),s=r;break;case"video":case"audio":for(s=0;s<Yr.length;s++)K(Yr[s],t);s=r;break;case"source":K("error",t),s=r;break;case"img":case"image":case"link":K("error",t),K("load",t),s=r;break;case"details":K("toggle",t),s=r;break;case"input":jc(t,r),s=Wa(t,r),K("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ee({},r,{value:void 0}),K("invalid",t);break;case"textarea":Oc(t,r),s=Ka(t,r),K("invalid",t);break;default:s=r}Ga(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Mh(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fh(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_s(t,l):typeof l=="number"&&_s(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ws.hasOwnProperty(i)?l!=null&&i==="onScroll"&&K("scroll",t):l!=null&&iu(t,i,l,o))}switch(n){case"input":ei(t),Ac(t,r,!1);break;case"textarea":ei(t),Rc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+un(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ar(t,!!r.multiple,i,!1):r.defaultValue!=null&&ar(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=eo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xe(e),null;case 6:if(t&&e.stateNode!=null)up(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=En(Os.current),En(Pt.current),ui(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ct]=e,(i=r.nodeValue!==n)&&(t=Je,t!==null))switch(t.tag){case 3:li(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&li(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ct]=e,e.stateNode=r}return xe(e),null;case 13:if(Q(Y),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(G&&We!==null&&e.mode&1&&!(e.flags&128))Pf(),_r(),e.flags|=98560,i=!1;else if(i=ui(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[Ct]=e}else _r(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xe(e),i=!1}else ht!==null&&(Ol(ht),ht=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?ue===0&&(ue=3):Bu())),e.updateQueue!==null&&(e.flags|=4),xe(e),null);case 4:return kr(),Sl(t,e),t===null&&Ps(e.stateNode.containerInfo),xe(e),null;case 10:return Cu(e.type._context),xe(e),null;case 17:return De(e.type)&&to(),xe(e),null;case 19:if(Q(Y),i=e.memoizedState,i===null)return xe(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Vr(i,!1);else{if(ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lo(t),o!==null){for(e.flags|=128,Vr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return q(Y,Y.current&1|2),e.child}t=t.sibling}i.tail!==null&&ne()>Cr&&(e.flags|=128,r=!0,Vr(i,!1),e.lanes=4194304)}else{if(!r)if(t=lo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!G)return xe(e),null}else 2*ne()-i.renderingStartTime>Cr&&n!==1073741824&&(e.flags|=128,r=!0,Vr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ne(),e.sibling=null,n=Y.current,q(Y,r?n&1|2:n&1),e):(xe(e),null);case 22:case 23:return Uu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ve&1073741824&&(xe(e),e.subtreeFlags&6&&(e.flags|=8192)):xe(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function m0(t,e){switch(_u(e),e.tag){case 1:return De(e.type)&&to(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return kr(),Q(Fe),Q(Ce),ju(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tu(e),null;case 13:if(Q(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));_r()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Q(Y),null;case 4:return kr(),null;case 10:return Cu(e.type._context),null;case 22:case 23:return Uu(),null;case 24:return null;default:return null}}var hi=!1,Se=!1,g0=typeof WeakSet=="function"?WeakSet:Set,j=null;function sr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){te(t,e,r)}else n.current=null}function Cl(t,e,n){try{n()}catch(r){te(t,e,r)}}var xd=!1;function y0(t,e){if(al=Xi,t=pf(),vu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++c===r&&(l=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ll={focusedElem:t,selectionRange:n},Xi=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,x=w.memoizedState,m=e.stateNode,d=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:lt(e.type,_),x);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(v){te(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return w=xd,xd=!1,w}function hs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cl(e,n,i)}s=s.next}while(s!==r)}}function Oo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function El(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cp(t){var e=t.alternate;e!==null&&(t.alternate=null,cp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ct],delete e[js],delete e[dl],delete e[Zy],delete e[e0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dp(t){return t.tag===5||t.tag===3||t.tag===4}function kd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=eo));else if(r!==4&&(t=t.child,t!==null))for(bl(t,e,n),t=t.sibling;t!==null;)bl(t,e,n),t=t.sibling}function Pl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Pl(t,e,n),t=t.sibling;t!==null;)Pl(t,e,n),t=t.sibling}var pe=null,ct=!1;function zt(t,e,n){for(n=n.child;n!==null;)hp(t,e,n),n=n.sibling}function hp(t,e,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(So,n)}catch{}switch(n.tag){case 5:Se||sr(n,e);case 6:var r=pe,s=ct;pe=null,zt(t,e,n),pe=r,ct=s,pe!==null&&(ct?(t=pe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pe.removeChild(n.stateNode));break;case 18:pe!==null&&(ct?(t=pe,n=n.stateNode,t.nodeType===8?ma(t.parentNode,n):t.nodeType===1&&ma(t,n),Cs(t)):ma(pe,n.stateNode));break;case 4:r=pe,s=ct,pe=n.stateNode.containerInfo,ct=!0,zt(t,e,n),pe=r,ct=s;break;case 0:case 11:case 14:case 15:if(!Se&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Cl(n,e,o),s=s.next}while(s!==r)}zt(t,e,n);break;case 1:if(!Se&&(sr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){te(n,e,a)}zt(t,e,n);break;case 21:zt(t,e,n);break;case 22:n.mode&1?(Se=(r=Se)||n.memoizedState!==null,zt(t,e,n),Se=r):zt(t,e,n);break;default:zt(t,e,n)}}function Sd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new g0),e.forEach(function(r){var s=b0.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ot(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pe=a.stateNode,ct=!1;break e;case 3:pe=a.stateNode.containerInfo,ct=!0;break e;case 4:pe=a.stateNode.containerInfo,ct=!0;break e}a=a.return}if(pe===null)throw Error(E(160));hp(i,o,s),pe=null,ct=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){te(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fp(e,t),e=e.sibling}function fp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ot(e,t),vt(t),r&4){try{hs(3,t,t.return),Oo(3,t)}catch(_){te(t,t.return,_)}try{hs(5,t,t.return)}catch(_){te(t,t.return,_)}}break;case 1:ot(e,t),vt(t),r&512&&n!==null&&sr(n,n.return);break;case 5:if(ot(e,t),vt(t),r&512&&n!==null&&sr(n,n.return),t.flags&32){var s=t.stateNode;try{_s(s,"")}catch(_){te(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ih(s,i),Xa(a,o);var u=Xa(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Mh(s,h):c==="dangerouslySetInnerHTML"?Fh(s,h):c==="children"?_s(s,h):iu(s,c,h,u)}switch(a){case"input":Ja(s,i);break;case"textarea":$h(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?ar(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?ar(s,!!i.multiple,i.defaultValue,!0):ar(s,!!i.multiple,i.multiple?[]:"",!1))}s[js]=i}catch(_){te(t,t.return,_)}}break;case 6:if(ot(e,t),vt(t),r&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){te(t,t.return,_)}}break;case 3:if(ot(e,t),vt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cs(e.containerInfo)}catch(_){te(t,t.return,_)}break;case 4:ot(e,t),vt(t);break;case 13:ot(e,t),vt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Du=ne())),r&4&&Sd(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Se=(u=Se)||c,ot(e,t),Se=u):ot(e,t),vt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(j=t,c=t.child;c!==null;){for(h=j=c;j!==null;){switch(f=j,y=f.child,f.tag){case 0:case 11:case 14:case 15:hs(4,f,f.return);break;case 1:sr(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(_){te(r,n,_)}}break;case 5:sr(f,f.return);break;case 22:if(f.memoizedState!==null){Ed(h);continue}}y!==null?(y.return=f,j=y):Ed(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Dh("display",o))}catch(_){te(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){te(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ot(e,t),vt(t),r&4&&Sd(t);break;case 21:break;default:ot(e,t),vt(t)}}function vt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dp(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_s(s,""),r.flags&=-33);var i=kd(t);Pl(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=kd(t);bl(t,a,o);break;default:throw Error(E(161))}}catch(l){te(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function v0(t,e,n){j=t,pp(t)}function pp(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var s=j,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||hi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Se;a=hi;var u=Se;if(hi=o,(Se=l)&&!u)for(j=s;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?bd(s):l!==null?(l.return=o,j=l):bd(s);for(;i!==null;)j=i,pp(i),i=i.sibling;j=s,hi=a,Se=u}Cd(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,j=i):Cd(t)}}function Cd(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Se||Oo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Se)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:lt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ld(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ld(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Cs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Se||e.flags&512&&El(e)}catch(f){te(e,e.return,f)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function Ed(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function bd(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Oo(4,e)}catch(l){te(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){te(e,s,l)}}var i=e.return;try{El(e)}catch(l){te(e,i,l)}break;case 5:var o=e.return;try{El(e)}catch(l){te(e,o,l)}}}catch(l){te(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var w0=Math.ceil,ho=Ut.ReactCurrentDispatcher,Lu=Ut.ReactCurrentOwner,et=Ut.ReactCurrentBatchConfig,B=0,fe=null,se=null,ge=0,Ve=0,ir=hn(0),ue=0,$s=null,Rn=0,Ro=0,Fu=0,fs=null,Ie=null,Du=0,Cr=1/0,At=null,fo=!1,Tl=null,on=null,fi=!1,Zt=null,po=0,ps=0,jl=null,Fi=-1,Di=0;function Pe(){return B&6?ne():Fi!==-1?Fi:Fi=ne()}function an(t){return t.mode&1?B&2&&ge!==0?ge&-ge:n0.transition!==null?(Di===0&&(Di=Xh()),Di):(t=V,t!==0||(t=window.event,t=t===void 0?16:sf(t.type)),t):1}function gt(t,e,n,r){if(50<ps)throw ps=0,jl=null,Error(E(185));Us(t,n,r),(!(B&2)||t!==fe)&&(t===fe&&(!(B&2)&&(Ro|=n),ue===4&&Gt(t,ge)),Me(t,r),n===1&&B===0&&!(e.mode&1)&&(Cr=ne()+500,To&&fn()))}function Me(t,e){var n=t.callbackNode;ny(t,e);var r=Gi(t,t===fe?ge:0);if(r===0)n!==null&&$c(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$c(n),e===1)t.tag===0?t0(Pd.bind(null,t)):Cf(Pd.bind(null,t)),Xy(function(){!(B&6)&&fn()}),n=null;else{switch(Yh(r)){case 1:n=cu;break;case 4:n=Qh;break;case 16:n=Qi;break;case 536870912:n=Gh;break;default:n=Qi}n=kp(n,mp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mp(t,e){if(Fi=-1,Di=0,B&6)throw Error(E(327));var n=t.callbackNode;if(hr()&&t.callbackNode!==n)return null;var r=Gi(t,t===fe?ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mo(t,r);else{e=r;var s=B;B|=2;var i=yp();(fe!==t||ge!==e)&&(At=null,Cr=ne()+500,Pn(t,e));do try{k0();break}catch(a){gp(t,a)}while(!0);Su(),ho.current=i,B=s,se!==null?e=0:(fe=null,ge=0,e=ue)}if(e!==0){if(e===2&&(s=nl(t),s!==0&&(r=s,e=Al(t,s))),e===1)throw n=$s,Pn(t,0),Gt(t,r),Me(t,ne()),n;if(e===6)Gt(t,r);else{if(s=t.current.alternate,!(r&30)&&!_0(s)&&(e=mo(t,r),e===2&&(i=nl(t),i!==0&&(r=i,e=Al(t,i))),e===1))throw n=$s,Pn(t,0),Gt(t,r),Me(t,ne()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:wn(t,Ie,At);break;case 3:if(Gt(t,r),(r&130023424)===r&&(e=Du+500-ne(),10<e)){if(Gi(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Pe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=cl(wn.bind(null,t,Ie,At),e);break}wn(t,Ie,At);break;case 4:if(Gt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-mt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*w0(r/1960))-r,10<r){t.timeoutHandle=cl(wn.bind(null,t,Ie,At),r);break}wn(t,Ie,At);break;case 5:wn(t,Ie,At);break;default:throw Error(E(329))}}}return Me(t,ne()),t.callbackNode===n?mp.bind(null,t):null}function Al(t,e){var n=fs;return t.current.memoizedState.isDehydrated&&(Pn(t,e).flags|=256),t=mo(t,e),t!==2&&(e=Ie,Ie=n,e!==null&&Ol(e)),t}function Ol(t){Ie===null?Ie=t:Ie.push.apply(Ie,t)}function _0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!yt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gt(t,e){for(e&=~Fu,e&=~Ro,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mt(e),r=1<<n;t[n]=-1,e&=~r}}function Pd(t){if(B&6)throw Error(E(327));hr();var e=Gi(t,0);if(!(e&1))return Me(t,ne()),null;var n=mo(t,e);if(t.tag!==0&&n===2){var r=nl(t);r!==0&&(e=r,n=Al(t,r))}if(n===1)throw n=$s,Pn(t,0),Gt(t,e),Me(t,ne()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wn(t,Ie,At),Me(t,ne()),null}function Mu(t,e){var n=B;B|=1;try{return t(e)}finally{B=n,B===0&&(Cr=ne()+500,To&&fn())}}function Nn(t){Zt!==null&&Zt.tag===0&&!(B&6)&&hr();var e=B;B|=1;var n=et.transition,r=V;try{if(et.transition=null,V=1,t)return t()}finally{V=r,et.transition=n,B=e,!(B&6)&&fn()}}function Uu(){Ve=ir.current,Q(ir)}function Pn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Gy(n)),se!==null)for(n=se.return;n!==null;){var r=n;switch(_u(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&to();break;case 3:kr(),Q(Fe),Q(Ce),ju();break;case 5:Tu(r);break;case 4:kr();break;case 13:Q(Y);break;case 19:Q(Y);break;case 10:Cu(r.type._context);break;case 22:case 23:Uu()}n=n.return}if(fe=t,se=t=ln(t.current,null),ge=Ve=e,ue=0,$s=null,Fu=Ro=Rn=0,Ie=fs=null,Cn!==null){for(e=0;e<Cn.length;e++)if(n=Cn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Cn=null}return t}function gp(t,e){do{var n=se;try{if(Su(),Ii.current=co,uo){for(var r=Z.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}uo=!1}if(On=0,he=ae=Z=null,ds=!1,Rs=0,Lu.current=null,n===null||n.return===null){ue=1,$s=e,se=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=pd(o);if(y!==null){y.flags&=-257,md(y,o,a,i,e),y.mode&1&&fd(i,u,e),e=y,l=u;var w=e.updateQueue;if(w===null){var _=new Set;_.add(l),e.updateQueue=_}else w.add(l);break e}else{if(!(e&1)){fd(i,u,e),Bu();break e}l=Error(E(426))}}else if(G&&a.mode&1){var x=pd(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),md(x,o,a,i,e),xu(Sr(l,a));break e}}i=l=Sr(l,a),ue!==4&&(ue=2),fs===null?fs=[i]:fs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Zf(i,l,e);ad(i,m);break e;case 1:a=l;var d=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(on===null||!on.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var v=ep(i,a,e);ad(i,v);break e}}i=i.return}while(i!==null)}wp(n)}catch(S){e=S,se===n&&n!==null&&(se=n=n.return);continue}break}while(!0)}function yp(){var t=ho.current;return ho.current=co,t===null?co:t}function Bu(){(ue===0||ue===3||ue===2)&&(ue=4),fe===null||!(Rn&268435455)&&!(Ro&268435455)||Gt(fe,ge)}function mo(t,e){var n=B;B|=2;var r=yp();(fe!==t||ge!==e)&&(At=null,Pn(t,e));do try{x0();break}catch(s){gp(t,s)}while(!0);if(Su(),B=n,ho.current=r,se!==null)throw Error(E(261));return fe=null,ge=0,ue}function x0(){for(;se!==null;)vp(se)}function k0(){for(;se!==null&&!qg();)vp(se)}function vp(t){var e=xp(t.alternate,t,Ve);t.memoizedProps=t.pendingProps,e===null?wp(t):se=e,Lu.current=null}function wp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=m0(n,e),n!==null){n.flags&=32767,se=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ue=6,se=null;return}}else if(n=p0(n,e,Ve),n!==null){se=n;return}if(e=e.sibling,e!==null){se=e;return}se=e=t}while(e!==null);ue===0&&(ue=5)}function wn(t,e,n){var r=V,s=et.transition;try{et.transition=null,V=1,S0(t,e,n,r)}finally{et.transition=s,V=r}return null}function S0(t,e,n,r){do hr();while(Zt!==null);if(B&6)throw Error(E(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ry(t,i),t===fe&&(se=fe=null,ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fi||(fi=!0,kp(Qi,function(){return hr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=et.transition,et.transition=null;var o=V;V=1;var a=B;B|=4,Lu.current=null,y0(t,n),fp(n,t),Hy(ll),Xi=!!al,ll=al=null,t.current=n,v0(n),Kg(),B=a,V=o,et.transition=i}else t.current=n;if(fi&&(fi=!1,Zt=t,po=s),i=t.pendingLanes,i===0&&(on=null),Xg(n.stateNode),Me(t,ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(fo)throw fo=!1,t=Tl,Tl=null,t;return po&1&&t.tag!==0&&hr(),i=t.pendingLanes,i&1?t===jl?ps++:(ps=0,jl=t):ps=0,fn(),null}function hr(){if(Zt!==null){var t=Yh(po),e=et.transition,n=V;try{if(et.transition=null,V=16>t?16:t,Zt===null)var r=!1;else{if(t=Zt,Zt=null,po=0,B&6)throw Error(E(331));var s=B;for(B|=4,j=t.current;j!==null;){var i=j,o=i.child;if(j.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:hs(8,c,i)}var h=c.child;if(h!==null)h.return=c,j=h;else for(;j!==null;){c=j;var f=c.sibling,y=c.return;if(cp(c),c===u){j=null;break}if(f!==null){f.return=y,j=f;break}j=y}}}var w=i.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}j=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,j=o;else e:for(;j!==null;){if(i=j,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hs(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,j=m;break e}j=i.return}}var d=t.current;for(j=d;j!==null;){o=j;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,j=p;else e:for(o=d;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Oo(9,a)}}catch(S){te(a,a.return,S)}if(a===o){j=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,j=v;break e}j=a.return}}if(B=s,fn(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(So,t)}catch{}r=!0}return r}finally{V=n,et.transition=e}}return!1}function Td(t,e,n){e=Sr(n,e),e=Zf(t,e,1),t=sn(t,e,1),e=Pe(),t!==null&&(Us(t,1,e),Me(t,e))}function te(t,e,n){if(t.tag===3)Td(t,t,n);else for(;e!==null;){if(e.tag===3){Td(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(on===null||!on.has(r))){t=Sr(n,t),t=ep(e,t,1),e=sn(e,t,1),t=Pe(),e!==null&&(Us(e,1,t),Me(e,t));break}}e=e.return}}function C0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pe(),t.pingedLanes|=t.suspendedLanes&n,fe===t&&(ge&n)===n&&(ue===4||ue===3&&(ge&130023424)===ge&&500>ne()-Du?Pn(t,0):Fu|=n),Me(t,e)}function _p(t,e){e===0&&(t.mode&1?(e=ri,ri<<=1,!(ri&130023424)&&(ri=4194304)):e=1);var n=Pe();t=Dt(t,e),t!==null&&(Us(t,e,n),Me(t,n))}function E0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_p(t,n)}function b0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),_p(t,n)}var xp;xp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fe.current)Le=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Le=!1,f0(t,e,n);Le=!!(t.flags&131072)}else Le=!1,G&&e.flags&1048576&&Ef(e,so,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Li(t,e),t=e.pendingProps;var s=wr(e,Ce.current);dr(e,n),s=Ou(null,e,r,t,s,n);var i=Ru();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,De(r)?(i=!0,no(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bu(e),s.updater=Ao,e.stateNode=s,s._reactInternals=e,yl(e,r,t,n),e=_l(null,e,r,!0,i,n)):(e.tag=0,G&&i&&wu(e),be(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Li(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=T0(r),t=lt(r,t),s){case 0:e=wl(null,e,r,t,n);break e;case 1:e=vd(null,e,r,t,n);break e;case 11:e=gd(null,e,r,t,n);break e;case 14:e=yd(null,e,r,lt(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lt(r,s),wl(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lt(r,s),vd(t,e,r,s,n);case 3:e:{if(sp(e),t===null)throw Error(E(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Of(t,e),ao(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Sr(Error(E(423)),e),e=wd(t,e,r,n,s);break e}else if(r!==s){s=Sr(Error(E(424)),e),e=wd(t,e,r,n,s);break e}else for(We=rn(e.stateNode.containerInfo.firstChild),Je=e,G=!0,ht=null,n=jf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_r(),r===s){e=Mt(t,e,n);break e}be(t,e,r,n)}e=e.child}return e;case 5:return Rf(e),t===null&&pl(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ul(r,s)?o=null:i!==null&&ul(r,i)&&(e.flags|=32),rp(t,e),be(t,e,o,n),e.child;case 6:return t===null&&pl(e),null;case 13:return ip(t,e,n);case 4:return Pu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xr(e,null,r,n):be(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lt(r,s),gd(t,e,r,s,n);case 7:return be(t,e,e.pendingProps,n),e.child;case 8:return be(t,e,e.pendingProps.children,n),e.child;case 12:return be(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,q(io,r._currentValue),r._currentValue=o,i!==null)if(yt(i.value,o)){if(i.children===s.children&&!Fe.current){e=Mt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=$t(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ml(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ml(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}be(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,dr(e,n),s=nt(s),r=r(s),e.flags|=1,be(t,e,r,n),e.child;case 14:return r=e.type,s=lt(r,e.pendingProps),s=lt(r.type,s),yd(t,e,r,s,n);case 15:return tp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lt(r,s),Li(t,e),e.tag=1,De(r)?(t=!0,no(e)):t=!1,dr(e,n),Yf(e,r,s),yl(e,r,s,n),_l(null,e,r,!0,t,n);case 19:return op(t,e,n);case 22:return np(t,e,n)}throw Error(E(156,e.tag))};function kp(t,e){return Kh(t,e)}function P0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(t,e,n,r){return new P0(t,e,n,r)}function zu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function T0(t){if(typeof t=="function")return zu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===au)return 11;if(t===lu)return 14}return 2}function ln(t,e){var n=t.alternate;return n===null?(n=Ze(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Mi(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")zu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qn:return Tn(n.children,s,i,e);case ou:o=8,s|=8;break;case Ba:return t=Ze(12,n,e,s|2),t.elementType=Ba,t.lanes=i,t;case za:return t=Ze(13,n,e,s),t.elementType=za,t.lanes=i,t;case Ha:return t=Ze(19,n,e,s),t.elementType=Ha,t.lanes=i,t;case Oh:return No(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jh:o=10;break e;case Ah:o=9;break e;case au:o=11;break e;case lu:o=14;break e;case Jt:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Ze(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Tn(t,e,n,r){return t=Ze(7,t,r,e),t.lanes=n,t}function No(t,e,n,r){return t=Ze(22,t,r,e),t.elementType=Oh,t.lanes=n,t.stateNode={isHidden:!1},t}function Sa(t,e,n){return t=Ze(6,t,null,e),t.lanes=n,t}function Ca(t,e,n){return e=Ze(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function j0(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sa(0),this.expirationTimes=sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hu(t,e,n,r,s,i,o,a,l){return t=new j0(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ze(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bu(i),t}function A0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Sp(t){if(!t)return cn;t=t._reactInternals;e:{if($n(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(De(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(De(n))return Sf(t,n,e)}return e}function Cp(t,e,n,r,s,i,o,a,l){return t=Hu(n,r,!0,t,s,i,o,a,l),t.context=Sp(null),n=t.current,r=Pe(),s=an(n),i=$t(r,s),i.callback=e??null,sn(n,i,s),t.current.lanes=s,Us(t,s,r),Me(t,r),t}function Io(t,e,n,r){var s=e.current,i=Pe(),o=an(s);return n=Sp(n),e.context===null?e.context=n:e.pendingContext=n,e=$t(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=sn(s,e,o),t!==null&&(gt(t,s,o,i),Ni(t,s,o)),o}function go(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vu(t,e){jd(t,e),(t=t.alternate)&&jd(t,e)}function O0(){return null}var Ep=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wu(t){this._internalRoot=t}$o.prototype.render=Wu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Io(t,e,null,null)};$o.prototype.unmount=Wu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nn(function(){Io(null,t,null,null)}),e[Ft]=null}};function $o(t){this._internalRoot=t}$o.prototype.unstable_scheduleHydration=function(t){if(t){var e=tf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qt.length&&e!==0&&e<Qt[n].priority;n++);Qt.splice(n,0,t),n===0&&rf(t)}};function Ju(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ad(){}function R0(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=go(o);i.call(u)}}var o=Cp(e,r,t,0,null,!1,!1,"",Ad);return t._reactRootContainer=o,t[Ft]=o.current,Ps(t.nodeType===8?t.parentNode:t),Nn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=go(l);a.call(u)}}var l=Hu(t,0,!1,null,null,!1,!1,"",Ad);return t._reactRootContainer=l,t[Ft]=l.current,Ps(t.nodeType===8?t.parentNode:t),Nn(function(){Io(e,l,n,r)}),l}function Fo(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=go(o);a.call(l)}}Io(e,o,t,s)}else o=R0(n,e,t,s,r);return go(o)}Zh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xr(e.pendingLanes);n!==0&&(du(e,n|1),Me(e,ne()),!(B&6)&&(Cr=ne()+500,fn()))}break;case 13:Nn(function(){var r=Dt(t,1);if(r!==null){var s=Pe();gt(r,t,1,s)}}),Vu(t,1)}};hu=function(t){if(t.tag===13){var e=Dt(t,134217728);if(e!==null){var n=Pe();gt(e,t,134217728,n)}Vu(t,134217728)}};ef=function(t){if(t.tag===13){var e=an(t),n=Dt(t,e);if(n!==null){var r=Pe();gt(n,t,e,r)}Vu(t,e)}};tf=function(){return V};nf=function(t,e){var n=V;try{return V=t,e()}finally{V=n}};Za=function(t,e,n){switch(e){case"input":if(Ja(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Po(r);if(!s)throw Error(E(90));Nh(r),Ja(r,s)}}}break;case"textarea":$h(t,n);break;case"select":e=n.value,e!=null&&ar(t,!!n.multiple,e,!1)}};zh=Mu;Hh=Nn;var N0={usingClientEntryPoint:!1,Events:[zs,Zn,Po,Uh,Bh,Mu]},Wr={findFiberByHostInstance:Sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I0={bundleType:Wr.bundleType,version:Wr.version,rendererPackageName:Wr.rendererPackageName,rendererConfig:Wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ut.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jh(t),t===null?null:t.stateNode},findFiberByHostInstance:Wr.findFiberByHostInstance||O0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pi.isDisabled&&pi.supportsFiber)try{So=pi.inject(I0),bt=pi}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N0;Ke.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ju(e))throw Error(E(200));return A0(t,e,null,n)};Ke.createRoot=function(t,e){if(!Ju(t))throw Error(E(299));var n=!1,r="",s=Ep;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Hu(t,1,!1,null,null,n,!1,r,s),t[Ft]=e.current,Ps(t.nodeType===8?t.parentNode:t),new Wu(e)};Ke.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Jh(e),t=t===null?null:t.stateNode,t};Ke.flushSync=function(t){return Nn(t)};Ke.hydrate=function(t,e,n){if(!Lo(e))throw Error(E(200));return Fo(null,t,e,!0,n)};Ke.hydrateRoot=function(t,e,n){if(!Ju(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ep;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Cp(e,null,t,1,n??null,s,!1,i,o),t[Ft]=e.current,Ps(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new $o(e)};Ke.render=function(t,e,n){if(!Lo(e))throw Error(E(200));return Fo(null,t,e,!1,n)};Ke.unmountComponentAtNode=function(t){if(!Lo(t))throw Error(E(40));return t._reactRootContainer?(Nn(function(){Fo(null,null,t,!1,function(){t._reactRootContainer=null,t[Ft]=null})}),!0):!1};Ke.unstable_batchedUpdates=Mu;Ke.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Lo(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return Fo(t,e,n,!1,r)};Ke.version="18.3.1-next-f1338f8080-20240426";function bp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bp)}catch(t){console.error(t)}}bp(),Eh.exports=Ke;var $0=Eh.exports,Od=$0;Ma.createRoot=Od.createRoot,Ma.hydrateRoot=Od.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ae=(t,e)=>{const n=z.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>z.createElement("svg",{ref:c,...L0,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${F0(t)}`,a].join(" "),...u},[...e.map(([h,f])=>z.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=Ae("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=Ae("BookmarkPlus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=Ae("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Ae("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Ae("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=Ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=Ae("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Nl="RFC3986",Il={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},J0="RFC1738",q0=Array.isArray,wt=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Ea=1024,K0=(t,e,n,r,s)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<i.length;a+=Ea){const l=i.length>=Ea?i.slice(a,a+Ea):i,u=[];for(let c=0;c<l.length;++c){let h=l.charCodeAt(c);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===J0&&(h===40||h===41)){u[u.length]=l.charAt(c);continue}if(h<128){u[u.length]=wt[h];continue}if(h<2048){u[u.length]=wt[192|h>>6]+wt[128|h&63];continue}if(h<55296||h>=57344){u[u.length]=wt[224|h>>12]+wt[128|h>>6&63]+wt[128|h&63];continue}c+=1,h=65536+((h&1023)<<10|l.charCodeAt(c)&1023),u[u.length]=wt[240|h>>18]+wt[128|h>>12&63]+wt[128|h>>6&63]+wt[128|h&63]}o+=u.join("")}return o};function Q0(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Id(t,e){if(q0(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const G0=Object.prototype.hasOwnProperty,Tp={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},kt=Array.isArray,X0=Array.prototype.push,jp=function(t,e){X0.apply(t,kt(e)?e:[e])},Y0=Date.prototype.toISOString,oe={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:K0,encodeValuesOnly:!1,format:Nl,formatter:Il[Nl],indices:!1,serializeDate(t){return Y0.call(t)},skipNulls:!1,strictNullHandling:!1};function Z0(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const ba={};function Ap(t,e,n,r,s,i,o,a,l,u,c,h,f,y,w,_,x,m){let d=t,p=m,v=0,S=!1;for(;(p=p.get(ba))!==void 0&&!S;){const O=p.get(t);if(v+=1,typeof O<"u"){if(O===v)throw new RangeError("Cyclic object value");S=!0}typeof p.get(ba)>"u"&&(v=0)}if(typeof u=="function"?d=u(e,d):d instanceof Date?d=f==null?void 0:f(d):n==="comma"&&kt(d)&&(d=Id(d,function(O){return O instanceof Date?f==null?void 0:f(O):O})),d===null){if(i)return l&&!_?l(e,oe.encoder,x,"key",y):e;d=""}if(Z0(d)||Q0(d)){if(l){const O=_?e:l(e,oe.encoder,x,"key",y);return[(w==null?void 0:w(O))+"="+(w==null?void 0:w(l(d,oe.encoder,x,"value",y)))]}return[(w==null?void 0:w(e))+"="+(w==null?void 0:w(String(d)))]}const b=[];if(typeof d>"u")return b;let C;if(n==="comma"&&kt(d))_&&l&&(d=Id(d,l)),C=[{value:d.length>0?d.join(",")||null:void 0}];else if(kt(u))C=u;else{const O=Object.keys(d);C=c?O.sort(c):O}const T=a?String(e).replace(/\./g,"%2E"):String(e),N=r&&kt(d)&&d.length===1?T+"[]":T;if(s&&kt(d)&&d.length===0)return N+"[]";for(let O=0;O<C.length;++O){const I=C[O],Oe=typeof I=="object"&&typeof I.value<"u"?I.value:d[I];if(o&&Oe===null)continue;const st=h&&a?I.replace(/\./g,"%2E"):I,Bt=kt(d)?typeof n=="function"?n(N,st):N:N+(h?"."+st:"["+st+"]");m.set(t,v);const Dn=new WeakMap;Dn.set(ba,m),jp(b,Ap(Oe,Bt,n,r,s,i,o,a,n==="comma"&&_&&kt(d)?null:l,u,c,h,f,y,w,_,x,Dn))}return b}function ev(t=oe){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||oe.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Nl;if(typeof t.format<"u"){if(!G0.call(Il,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=Il[n];let s=oe.filter;(typeof t.filter=="function"||kt(t.filter))&&(s=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in Tp?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=oe.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:oe.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:oe.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:oe.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:oe.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?oe.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:oe.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:oe.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:oe.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:oe.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:oe.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:oe.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:oe.strictNullHandling}}function tv(t,e={}){let n=t;const r=ev(e);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):kt(r.filter)&&(i=r.filter,s=i);const o=[];if(typeof n!="object"||n===null)return"";const a=Tp[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let f=0;f<s.length;++f){const y=s[f];r.skipNulls&&n[y]===null||jp(o,Ap(n[y],y,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const c=o.join(r.delimiter);let h=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),c.length>0?h+c:""}const Jn="4.85.1";let $d=!1,ms,Op,Rp,$l,Np,Ip,$p,Lp,Fp;function nv(t,e={auto:!1}){if($d)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(ms)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${ms}'\``);$d=e.auto,ms=t.kind,Op=t.fetch,Rp=t.FormData,$l=t.File,Np=t.ReadableStream,Ip=t.getMultipartRequestOptions,$p=t.getDefaultAgent,Lp=t.fileFromPath,Fp=t.isFsReadStream}class rv{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function sv({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new rv(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}ms||nv(sv(),{auto:!0});class F extends Error{}class ve extends F{constructor(e,n,r,s){super(`${ve.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new Do({message:r,cause:Fl(n)});const i=n==null?void 0:n.error;return e===400?new Dp(e,i,r,s):e===401?new Mp(e,i,r,s):e===403?new Up(e,i,r,s):e===404?new Bp(e,i,r,s):e===409?new zp(e,i,r,s):e===422?new Hp(e,i,r,s):e===429?new Vp(e,i,r,s):e>=500?new Wp(e,i,r,s):new ve(e,i,r,s)}}class ft extends ve{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Do extends ve{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Qu extends Do{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Dp extends ve{}class Mp extends ve{}class Up extends ve{}class Bp extends ve{}class zp extends ve{}class Hp extends ve{}class Vp extends ve{}class Wp extends ve{}class Jp extends F{constructor(){super("Could not parse response content as the length limit was reached")}}class qp extends F{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var gi=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},gn=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Be;class Mo{constructor(){Be.set(this,void 0),this.buffer=new Uint8Array,gi(this,Be,null,"f")}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const s=[];let i;for(;(i=iv(this.buffer,gn(this,Be,"f")))!=null;){if(i.carriage&&gn(this,Be,"f")==null){gi(this,Be,i.index,"f");continue}if(gn(this,Be,"f")!=null&&(i.index!==gn(this,Be,"f")+1||i.carriage)){s.push(this.decodeText(this.buffer.slice(0,gn(this,Be,"f")-1))),this.buffer=this.buffer.slice(gn(this,Be,"f")),gi(this,Be,null,"f");continue}const o=gn(this,Be,"f")!==null?i.preceding-1:i.preceding,a=this.decodeText(this.buffer.slice(0,o));s.push(a),this.buffer=this.buffer.slice(i.index),gi(this,Be,null,"f")}return s}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new F(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new F(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new F("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}Be=new WeakMap;Mo.NEWLINE_CHARS=new Set([`
`,"\r"]);Mo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function iv(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function Kp(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Et{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of ov(e,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null){let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(a&&a.error)throw new ve(void 0,a.error,void 0,void 0);yield a}else{let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new ve(void 0,a.error,a.message,void 0);yield{event:o.event,data:a}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new Et(s,n)}static fromReadableStream(e,n){let r=!1;async function*s(){const o=new Mo,a=Kp(e);for await(const l of a)for(const u of o.decode(l))yield u;for(const l of o.flush())yield l}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const a of s())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new Et(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();e.push(o),n.push(o)}return i.shift()}});return[new Et(()=>s(e),this.controller),new Et(()=>s(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new Np({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const a=r.encode(JSON.stringify(i)+`
`);s.enqueue(a)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}async function*ov(t,e){if(!t.body)throw e.abort(),new F("Attempted to iterate over a response with no body");const n=new uv,r=new Mo,s=Kp(t.body);for await(const i of av(s))for(const o of r.decode(i)){const a=n.decode(o);a&&(yield a)}for(const i of r.flush()){const o=n.decode(i);o&&(yield o)}}async function*av(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let i;for(;(i=lv(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}function lv(t){for(let r=0;r<t.length-2;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}class uv{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=cv(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function cv(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const Qp=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",Gp=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Uo(t),Uo=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",dv=t=>Gp(t)||Qp(t)||Fp(t);async function Xp(t,e,n){var s;if(t=await t,Gp(t))return t;if(Qp(t)){const i=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=Uo(i)?[await i.arrayBuffer()]:[i];return new $l(o,e,n)}const r=await hv(t);if(e||(e=pv(t)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new $l(r,e,n)}async function hv(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Uo(t))e.push(await t.arrayBuffer());else if(mv(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${fv(t)}`);return e}function fv(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function pv(t){var e;return Pa(t.name)||Pa(t.filename)||((e=Pa(t.path))==null?void 0:e.split(/[\\/]/).pop())}const Pa=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},mv=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Ld=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",Er=async t=>{const e=await gv(t.body);return Ip(e,t)},gv=async t=>{const e=new Rp;return await Promise.all(Object.entries(t||{}).map(([n,r])=>Ll(e,n,r))),e},Ll=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(dv(n)){const r=await Xp(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Ll(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>Ll(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var fr={},yv=function(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},vv=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},yi;async function Yp(t){const{response:e}=t;if(t.options.stream)return pr("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Et.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await e.json();return pr("response",e.status,e.url,e.headers,i),Zp(i,e)}const s=await e.text();return pr("response",e.status,e.url,e.headers,s),s}function Zp(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Bo extends Promise{constructor(e,n=Yp){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Bo(this.responsePromise,async n=>Zp(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class wv{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=e,this.maxRetries=Ta("maxRetries",n),this.timeout=Ta("timeout",r),this.httpAgent=s,this.fetch=i??Op}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Ev(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${jv()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&Uo(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:n,...s,body:i}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var w;e={...e};const{method:r,path:s,query:i,headers:o={}}=e,a=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:Ld(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(a),u=this.buildURL(s,i);"timeout"in e&&Ta("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const c=e.httpAgent??this.httpAgent??$p(u),h=e.timeout+1e3;typeof((w=c==null?void 0:c.options)==null?void 0:w.timeout)=="number"&&h>(c.options.timeout??0)&&(c.options.timeout=h),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const f=this.buildHeaders({options:e,headers:o,contentLength:l,retryCount:n});return{req:{method:r,...a&&{body:a},headers:f,...c&&{agent:c},signal:e.signal??null},url:u,timeout:e.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const o=this.defaultHeaders(e);return Ud(i,o),Ud(i,n),Ld(e.body)&&ms!=="node"&&delete i["content-type"],wi(o,"x-stainless-retry-count")===void 0&&wi(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),wi(o,"x-stainless-timeout")===void 0&&wi(n,"x-stainless-timeout")===void 0&&e.timeout&&(i["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,s){return ve.generate(e,n,r,s)}request(e,n=null){return new Bo(this.makeRequest(e,n))}async makeRequest(e,n){var h,f;const r=await e,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:o,timeout:a}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:o,options:r}),pr("request",o,r,i.headers),(h=r.signal)!=null&&h.aborted)throw new ft;const l=new AbortController,u=await this.fetchWithTimeout(o,i,a,l).catch(Fl);if(u instanceof Error){if((f=r.signal)!=null&&f.aborted)throw new ft;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new Qu:new Do({cause:u})}const c=xv(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const d=`retrying, ${n} attempts remaining`;return pr(`response (error; ${d})`,u.status,o,c),this.retryRequest(r,n,c)}const y=await u.text().catch(d=>Fl(d).message),w=bv(y),_=w?void 0:y;throw pr(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,o,c,_),this.makeStatusError(u.status,w,_,c)}return{response:u,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new _v(this,r,e)}buildURL(e,n){const r=Tv(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return tm(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new F(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const a=setTimeout(()=>s.abort(),r),l={signal:s.signal,...o};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(a)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const a=parseFloat(i);Number.isNaN(a)||(s=a)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const a=parseFloat(o);Number.isNaN(a)?s=Date.parse(o)-Date.now():s=a*1e3}if(!(s&&0<=s&&s<60*1e3)){const a=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,a)}return await Vs(s),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Jn}`}}class em{constructor(e,n,r,s){yi.set(this,void 0),yv(this,yi,e),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new F("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[s,i]of r)e.url.searchParams.set(s,i);n.query=void 0,n.path=e.url.toString()}return await vv(this,yi,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(yi=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class _v extends Bo{constructor(e,n,r){super(n,async s=>new r(e,s.response,await Yp(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const xv=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),kv={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Ee=t=>typeof t=="object"&&t!==null&&!tm(t)&&Object.keys(t).every(e=>nm(kv,e)),Sv=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jn,"X-Stainless-OS":Dd(Deno.build.os),"X-Stainless-Arch":Fd(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jn,"X-Stainless-OS":Dd(process.platform),"X-Stainless-Arch":Fd(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=Cv();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Cv(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:e,version:`${s}.${i}.${o}`}}}return null}const Fd=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Dd=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Md;const Ev=()=>Md??(Md=Sv()),bv=t=>{try{return JSON.parse(t)}catch{return}},Pv=/^[a-z][a-z0-9+.-]*:/i,Tv=t=>Pv.test(t),Vs=t=>new Promise(e=>setTimeout(e,t)),Ta=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new F(`${t} must be an integer`);if(e<0)throw new F(`${t} must be a positive integer`);return e},Fl=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},vi=t=>{var e,n,r,s;if(typeof process<"u")return((e=fr==null?void 0:fr[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:s.trim()};function tm(t){if(!t)return!0;for(const e in t)return!1;return!0}function nm(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ud(t,e){for(const n in e){if(!nm(e,n))continue;const r=n.toLowerCase();if(!r)continue;const s=e[n];s===null?delete t[r]:s!==void 0&&(t[r]=s)}}const Bd=new Set(["authorization","api-key"]);function pr(t,...e){if(typeof process<"u"&&(fr==null?void 0:fr.DEBUG)==="true"){const n=e.map(r=>{if(!r)return r;if(r.headers){const i={...r,headers:{...r.headers}};for(const o in r.headers)Bd.has(o.toLowerCase())&&(i.headers[o]="REDACTED");return i}let s=null;for(const i in r)Bd.has(i.toLowerCase())&&(s??(s={...r}),s[i]="REDACTED");return s??r});console.log(`OpenAI:DEBUG:${t}`,...n)}}const jv=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),Av=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Ov=t=>typeof(t==null?void 0:t.get)=="function",wi=(t,e)=>{var r;const n=e.toLowerCase();if(Ov(t)){const s=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(i,o,a)=>o+a.toUpperCase());for(const i of[e,n,e.toUpperCase(),s]){const o=t.get(i);if(o)return o}}for(const[s,i]of Object.entries(t))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${e} header, using the first entry.`),i[0]):i};function ja(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class Rv extends em{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Ge extends em{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class H{constructor(e){this._client=e}}let rm=class extends H{list(e,n={},r){return Ee(n)?this.list(e,{},n):this._client.getAPIList(`/chat/completions/${e}/messages`,Nv,{query:n,...r})}},zo=class extends H{constructor(){super(...arguments),this.messages=new rm(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return Ee(e)?this.list({},e):this._client.getAPIList("/chat/completions",Ho,{query:e,...n})}del(e,n){return this._client.delete(`/chat/completions/${e}`,n)}};class Ho extends Ge{}class Nv extends Ge{}zo.ChatCompletionsPage=Ho;zo.Messages=rm;let Vo=class extends H{constructor(){super(...arguments),this.completions=new zo(this._client)}};Vo.Completions=zo;Vo.ChatCompletionsPage=Ho;class sm extends H{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class im extends H{create(e,n){return this._client.post("/audio/transcriptions",Er({body:e,...n,__metadata:{model:e.model}}))}}class om extends H{create(e,n){return this._client.post("/audio/translations",Er({body:e,...n,__metadata:{model:e.model}}))}}class Ws extends H{constructor(){super(...arguments),this.transcriptions=new im(this._client),this.translations=new om(this._client),this.speech=new sm(this._client)}}Ws.Transcriptions=im;Ws.Translations=om;Ws.Speech=sm;class Gu extends H{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return Ee(e)?this.list({},e):this._client.getAPIList("/batches",Xu,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class Xu extends Ge{}Gu.BatchesPage=Xu;class Yu extends H{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Ee(e)?this.list({},e):this._client.getAPIList("/assistants",Zu,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Zu extends Ge{}Yu.AssistantsPage=Zu;function zd(t){return typeof t.parse=="function"}const mr=t=>(t==null?void 0:t.role)==="assistant",am=t=>(t==null?void 0:t.role)==="function",lm=t=>(t==null?void 0:t.role)==="tool";var at=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},X=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Dl,Ui,Bi,Zr,es,zi,ts,jt,ns,yo,vo,qn,um;class cm{constructor(){Dl.add(this),this.controller=new AbortController,Ui.set(this,void 0),Bi.set(this,()=>{}),Zr.set(this,()=>{}),es.set(this,void 0),zi.set(this,()=>{}),ts.set(this,()=>{}),jt.set(this,{}),ns.set(this,!1),yo.set(this,!1),vo.set(this,!1),qn.set(this,!1),at(this,Ui,new Promise((e,n)=>{at(this,Bi,e,"f"),at(this,Zr,n,"f")}),"f"),at(this,es,new Promise((e,n)=>{at(this,zi,e,"f"),at(this,ts,n,"f")}),"f"),X(this,Ui,"f").catch(()=>{}),X(this,es,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},X(this,Dl,"m",um).bind(this))},0)}_connected(){this.ended||(X(this,Bi,"f").call(this),this._emit("connect"))}get ended(){return X(this,ns,"f")}get errored(){return X(this,yo,"f")}get aborted(){return X(this,vo,"f")}abort(){this.controller.abort()}on(e,n){return(X(this,jt,"f")[e]||(X(this,jt,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=X(this,jt,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(X(this,jt,"f")[e]||(X(this,jt,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{at(this,qn,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){at(this,qn,!0,"f"),await X(this,es,"f")}_emit(e,...n){if(X(this,ns,"f"))return;e==="end"&&(at(this,ns,!0,"f"),X(this,zi,"f").call(this));const r=X(this,jt,"f")[e];if(r&&(X(this,jt,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!X(this,qn,"f")&&!(r!=null&&r.length)&&Promise.reject(s),X(this,Zr,"f").call(this,s),X(this,ts,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!X(this,qn,"f")&&!(r!=null&&r.length)&&Promise.reject(s),X(this,Zr,"f").call(this,s),X(this,ts,"f").call(this,s),this._emit("end")}}_emitFinal(){}}Ui=new WeakMap,Bi=new WeakMap,Zr=new WeakMap,es=new WeakMap,zi=new WeakMap,ts=new WeakMap,jt=new WeakMap,ns=new WeakMap,yo=new WeakMap,vo=new WeakMap,qn=new WeakMap,Dl=new WeakSet,um=function(e){if(at(this,yo,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new ft),e instanceof ft)return at(this,vo,!0,"f"),this._emit("abort",e);if(e instanceof F)return this._emit("error",e);if(e instanceof Error){const n=new F(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new F(String(e)))};function dm(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function Js(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function Iv(t,e){return!e||!hm(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,tool_calls:n.message.tool_calls??[]}}))}:ec(t,e)}function ec(t,e){const n=t.choices.map(r=>{var s;if(r.finish_reason==="length")throw new Jp;if(r.finish_reason==="content_filter")throw new qp;return{...r,message:{...r.message,tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>Lv(e,i)))??[],parsed:r.message.content&&!r.message.refusal?$v(e,r.message.content):null}}});return{...t,choices:n}}function $v(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function Lv(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Js(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function Fv(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return Js(n)||(n==null?void 0:n.function.strict)||!1}function hm(t){var e;return dm(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>Js(n)||n.type==="function"&&n.function.strict===!0))??!1}function Dv(t){for(const e of t??[]){if(e.type!=="function")throw new F(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new F(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Ne=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ke,Ml,wo,Ul,Bl,zl,fm,Hl;const Hd=10;class pm extends cm{constructor(){super(...arguments),ke.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(am(e)||lm(e))&&e.content)this._emit("functionCallResult",e.content);else if(mr(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(mr(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new F("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Ne(this,ke,"m",Ml).call(this)}async finalMessage(){return await this.done(),Ne(this,ke,"m",wo).call(this)}async finalFunctionCall(){return await this.done(),Ne(this,ke,"m",Ul).call(this)}async finalFunctionCallResult(){return await this.done(),Ne(this,ke,"m",Bl).call(this)}async totalUsage(){return await this.done(),Ne(this,ke,"m",zl).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Ne(this,ke,"m",wo).call(this);n&&this._emit("finalMessage",n);const r=Ne(this,ke,"m",Ml).call(this);r&&this._emit("finalContent",r);const s=Ne(this,ke,"m",Ul).call(this);s&&this._emit("finalFunctionCall",s);const i=Ne(this,ke,"m",Bl).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Ne(this,ke,"m",zl).call(this))}async _createChatCompletion(e,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Ne(this,ke,"m",fm).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(ec(i,n))}async _runChatCompletion(e,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var f;const s="function",{function_call:i="auto",stream:o,...a}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=Hd}=r||{},c={};for(const y of n.functions)c[y.name||y.function.name]=y;const h=n.functions.map(y=>({name:y.name||y.function.name,parameters:y.parameters,description:y.description}));for(const y of n.messages)this._addMessage(y,!1);for(let y=0;y<u;++y){const _=(f=(await this._createChatCompletion(e,{...a,function_call:i,functions:h,messages:[...this.messages]},r)).choices[0])==null?void 0:f.message;if(!_)throw new F("missing message in ChatCompletion response");if(!_.function_call)return;const{name:x,arguments:m}=_.function_call,d=c[x];if(d){if(l&&l!==x){const b=`Invalid function_call: ${JSON.stringify(x)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,name:x,content:b});continue}}else{const b=`Invalid function_call: ${JSON.stringify(x)}. Available options are: ${h.map(C=>JSON.stringify(C.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:x,content:b});continue}let p;try{p=zd(d)?await d.parse(m):m}catch(b){this._addMessage({role:s,name:x,content:b instanceof Error?b.message:String(b)});continue}const v=await d.function(p,this),S=Ne(this,ke,"m",Hl).call(this,v);if(this._addMessage({role:s,name:x,content:S}),l)return}}async _runTools(e,n,r){var y,w,_;const s="tool",{tool_choice:i="auto",stream:o,...a}=n,l=typeof i!="string"&&((y=i==null?void 0:i.function)==null?void 0:y.name),{maxChatCompletions:u=Hd}=r||{},c=n.tools.map(x=>{if(Js(x)){if(!x.$callback)throw new F("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:x.$callback,name:x.function.name,description:x.function.description||"",parameters:x.function.parameters,parse:x.$parseRaw,strict:!0}}}return x}),h={};for(const x of c)x.type==="function"&&(h[x.function.name||x.function.function.name]=x.function);const f="tools"in n?c.map(x=>x.type==="function"?{type:"function",function:{name:x.function.name||x.function.function.name,parameters:x.function.parameters,description:x.function.description,strict:x.function.strict}}:x):void 0;for(const x of n.messages)this._addMessage(x,!1);for(let x=0;x<u;++x){const d=(w=(await this._createChatCompletion(e,{...a,tool_choice:i,tools:f,messages:[...this.messages]},r)).choices[0])==null?void 0:w.message;if(!d)throw new F("missing message in ChatCompletion response");if(!((_=d.tool_calls)!=null&&_.length))return;for(const p of d.tool_calls){if(p.type!=="function")continue;const v=p.id,{name:S,arguments:b}=p.function,C=h[S];if(C){if(l&&l!==S){const I=`Invalid tool_call: ${JSON.stringify(S)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:v,content:I});continue}}else{const I=`Invalid tool_call: ${JSON.stringify(S)}. Available options are: ${Object.keys(h).map(Oe=>JSON.stringify(Oe)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:v,content:I});continue}let T;try{T=zd(C)?await C.parse(b):b}catch(I){const Oe=I instanceof Error?I.message:String(I);this._addMessage({role:s,tool_call_id:v,content:Oe});continue}const N=await C.function(T,this),O=Ne(this,ke,"m",Hl).call(this,N);if(this._addMessage({role:s,tool_call_id:v,content:O}),l)return}}}}ke=new WeakSet,Ml=function(){return Ne(this,ke,"m",wo).call(this).content??null},wo=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(mr(n)){const{function_call:r,...s}=n,i={...s,content:n.content??null,refusal:n.refusal??null};return r&&(i.function_call=r),i}}throw new F("stream ended without producing a ChatCompletionMessage with role=assistant")},Ul=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(mr(s)&&(s!=null&&s.function_call))return s.function_call;if(mr(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},Bl=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(am(n)&&n.content!=null||lm(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},zl=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},fm=function(e){if(e.n!=null&&e.n>1)throw new F("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Hl=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Ls extends pm{static runFunctions(e,n,r){const s=new Ls,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,i)),s}static runTools(e,n,r){const s=new Ls,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}_addMessage(e,n=!0){super._addMessage(e,n),mr(e)&&e.content&&this._emit("content",e.content)}}const mm=1,gm=2,ym=4,vm=8,wm=16,_m=32,xm=64,km=128,Sm=256,Cm=km|Sm,Em=wm|_m|Cm|xm,bm=mm|gm|Em,Pm=ym|vm,Mv=bm|Pm,ce={STR:mm,NUM:gm,ARR:ym,OBJ:vm,NULL:wm,BOOL:_m,NAN:xm,INFINITY:km,MINUS_INFINITY:Sm,INF:Cm,SPECIAL:Em,ATOM:bm,COLLECTION:Pm,ALL:Mv};class Uv extends Error{}class Bv extends Error{}function zv(t,e=ce.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return Hv(t.trim(),e)}const Hv=(t,e)=>{const n=t.length;let r=0;const s=f=>{throw new Uv(`${f} at position ${r}`)},i=f=>{throw new Bv(`${f} at position ${r}`)},o=()=>(h(),r>=n&&s("Unexpected end of input"),t[r]==='"'?a():t[r]==="{"?l():t[r]==="["?u():t.substring(r,r+4)==="null"||ce.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||ce.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||ce.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||ce.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||ce.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||ce.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):c()),a=()=>{const f=r;let y=!1;for(r++;r<n&&(t[r]!=='"'||y&&t[r-1]==="\\");)y=t[r]==="\\"?!y:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(f,++r-Number(y)))}catch(w){i(String(w))}else if(ce.STR&e)try{return JSON.parse(t.substring(f,r-Number(y))+'"')}catch{return JSON.parse(t.substring(f,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{r++,h();const f={};try{for(;t[r]!=="}";){if(h(),r>=n&&ce.OBJ&e)return f;const y=a();h(),r++;try{const w=o();Object.defineProperty(f,y,{value:w,writable:!0,enumerable:!0,configurable:!0})}catch(w){if(ce.OBJ&e)return f;throw w}h(),t[r]===","&&r++}}catch{if(ce.OBJ&e)return f;s("Expected '}' at end of object")}return r++,f},u=()=>{r++;const f=[];try{for(;t[r]!=="]";)f.push(o()),h(),t[r]===","&&r++}catch{if(ce.ARR&e)return f;s("Expected ']' at end of array")}return r++,f},c=()=>{if(r===0){t==="-"&&ce.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(y){if(ce.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(y))}}const f=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(ce.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(f,r))}catch{t.substring(f,r)==="-"&&ce.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(f,t.lastIndexOf("e")))}catch(w){i(String(w))}}},h=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return o()},Vd=t=>zv(t,ce.ALL^ce.NUM);var Bn=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},W=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ie,Tt,zn,Ht,Aa,_i,Oa,Ra,Na,xi,Ia,Wd;class Fs extends pm{constructor(e){super(),ie.add(this),Tt.set(this,void 0),zn.set(this,void 0),Ht.set(this,void 0),Bn(this,Tt,e,"f"),Bn(this,zn,[],"f")}get currentChatCompletionSnapshot(){return W(this,Ht,"f")}static fromReadableStream(e){const n=new Fs(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const s=new Fs(n);return s._run(()=>s._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,n,r){var o;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),W(this,ie,"m",Aa).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of i)W(this,ie,"m",Oa).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new ft;return this._addChatCompletion(W(this,ie,"m",xi).call(this))}async _fromReadableStream(e,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),W(this,ie,"m",Aa).call(this),this._connected();const s=Et.fromReadableStream(e,this.controller);let i;for await(const a of s)i&&i!==a.id&&this._addChatCompletion(W(this,ie,"m",xi).call(this)),W(this,ie,"m",Oa).call(this,a),i=a.id;if((o=s.controller.signal)!=null&&o.aborted)throw new ft;return this._addChatCompletion(W(this,ie,"m",xi).call(this))}[(Tt=new WeakMap,zn=new WeakMap,Ht=new WeakMap,ie=new WeakSet,Aa=function(){this.ended||Bn(this,Ht,void 0,"f")},_i=function(n){let r=W(this,zn,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},W(this,zn,"f")[n.index]=r,r)},Oa=function(n){var s,i,o,a,l,u,c,h,f,y,w,_,x,m,d;if(this.ended)return;const r=W(this,ie,"m",Wd).call(this,n);this._emit("chunk",n,r);for(const p of n.choices){const v=r.choices[p.index];p.delta.content!=null&&((s=v.message)==null?void 0:s.role)==="assistant"&&((i=v.message)!=null&&i.content)&&(this._emit("content",p.delta.content,v.message.content),this._emit("content.delta",{delta:p.delta.content,snapshot:v.message.content,parsed:v.message.parsed})),p.delta.refusal!=null&&((o=v.message)==null?void 0:o.role)==="assistant"&&((a=v.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:p.delta.refusal,snapshot:v.message.refusal}),((l=p.logprobs)==null?void 0:l.content)!=null&&((u=v.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=p.logprobs)==null?void 0:c.content,snapshot:((h=v.logprobs)==null?void 0:h.content)??[]}),((f=p.logprobs)==null?void 0:f.refusal)!=null&&((y=v.message)==null?void 0:y.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(w=p.logprobs)==null?void 0:w.refusal,snapshot:((_=v.logprobs)==null?void 0:_.refusal)??[]});const S=W(this,ie,"m",_i).call(this,v);v.finish_reason&&(W(this,ie,"m",Na).call(this,v),S.current_tool_call_index!=null&&W(this,ie,"m",Ra).call(this,v,S.current_tool_call_index));for(const b of p.delta.tool_calls??[])S.current_tool_call_index!==b.index&&(W(this,ie,"m",Na).call(this,v),S.current_tool_call_index!=null&&W(this,ie,"m",Ra).call(this,v,S.current_tool_call_index)),S.current_tool_call_index=b.index;for(const b of p.delta.tool_calls??[]){const C=(x=v.message.tool_calls)==null?void 0:x[b.index];C!=null&&C.type&&((C==null?void 0:C.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(m=C.function)==null?void 0:m.name,index:b.index,arguments:C.function.arguments,parsed_arguments:C.function.parsed_arguments,arguments_delta:((d=b.function)==null?void 0:d.arguments)??""}):(C==null||C.type,void 0))}}},Ra=function(n,r){var o,a,l;if(W(this,ie,"m",_i).call(this,n).done_tool_calls.has(r))return;const i=(o=n.message.tool_calls)==null?void 0:o[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(l=(a=W(this,Tt,"f"))==null?void 0:a.tools)==null?void 0:l.find(c=>c.type==="function"&&c.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:Js(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Na=function(n){var s,i;const r=W(this,ie,"m",_i).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=W(this,ie,"m",Ia).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},xi=function(){if(this.ended)throw new F("stream has ended, this shouldn't happen");const n=W(this,Ht,"f");if(!n)throw new F("request ended without sending any chunks");return Bn(this,Ht,void 0,"f"),Bn(this,zn,[],"f"),Vv(n,W(this,Tt,"f"))},Ia=function(){var r;const n=(r=W(this,Tt,"f"))==null?void 0:r.response_format;return dm(n)?n:null},Wd=function(n){var r,s,i,o;let a=W(this,Ht,"f");const{choices:l,...u}=n;a?Object.assign(a,u):a=Bn(this,Ht,{...u,choices:[]},"f");for(const{delta:c,finish_reason:h,index:f,logprobs:y=null,...w}of n.choices){let _=a.choices[f];if(_||(_=a.choices[f]={finish_reason:h,index:f,message:{},logprobs:y,...w}),y)if(!_.logprobs)_.logprobs=Object.assign({},y);else{const{content:b,refusal:C,...T}=y;Object.assign(_.logprobs,T),b&&((r=_.logprobs).content??(r.content=[]),_.logprobs.content.push(...b)),C&&((s=_.logprobs).refusal??(s.refusal=[]),_.logprobs.refusal.push(...C))}if(h&&(_.finish_reason=h,W(this,Tt,"f")&&hm(W(this,Tt,"f")))){if(h==="length")throw new Jp;if(h==="content_filter")throw new qp}if(Object.assign(_,w),!c)continue;const{content:x,refusal:m,function_call:d,role:p,tool_calls:v,...S}=c;if(Object.assign(_.message,S),m&&(_.message.refusal=(_.message.refusal||"")+m),p&&(_.message.role=p),d&&(_.message.function_call?(d.name&&(_.message.function_call.name=d.name),d.arguments&&((i=_.message.function_call).arguments??(i.arguments=""),_.message.function_call.arguments+=d.arguments)):_.message.function_call=d),x&&(_.message.content=(_.message.content||"")+x,!_.message.refusal&&W(this,ie,"m",Ia).call(this)&&(_.message.parsed=Vd(_.message.content))),v){_.message.tool_calls||(_.message.tool_calls=[]);for(const{index:b,id:C,type:T,function:N,...O}of v){const I=(o=_.message.tool_calls)[b]??(o[b]={});Object.assign(I,O),C&&(I.id=C),T&&(I.type=T),N&&(I.function??(I.function={name:N.name??"",arguments:""})),N!=null&&N.name&&(I.function.name=N.name),N!=null&&N.arguments&&(I.function.arguments+=N.arguments,Fv(W(this,Tt,"f"),I)&&(I.function.parsed_arguments=Vd(I.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Et(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Vv(t,e){const{id:n,choices:r,created:s,model:i,system_fingerprint:o,...a}=t,l={...a,id:n,choices:r.map(({message:u,finish_reason:c,index:h,logprobs:f,...y})=>{if(!c)throw new F(`missing finish_reason for choice ${h}`);const{content:w=null,function_call:_,tool_calls:x,...m}=u,d=u.role;if(!d)throw new F(`missing role for choice ${h}`);if(_){const{arguments:p,name:v}=_;if(p==null)throw new F(`missing function_call.arguments for choice ${h}`);if(!v)throw new F(`missing function_call.name for choice ${h}`);return{...y,message:{content:w,function_call:{arguments:p,name:v},role:d,refusal:u.refusal??null},finish_reason:c,index:h,logprobs:f}}return x?{...y,index:h,finish_reason:c,logprobs:f,message:{...m,role:d,content:w,refusal:u.refusal??null,tool_calls:x.map((p,v)=>{const{function:S,type:b,id:C,...T}=p,{arguments:N,name:O,...I}=S||{};if(C==null)throw new F(`missing choices[${h}].tool_calls[${v}].id
${ki(t)}`);if(b==null)throw new F(`missing choices[${h}].tool_calls[${v}].type
${ki(t)}`);if(O==null)throw new F(`missing choices[${h}].tool_calls[${v}].function.name
${ki(t)}`);if(N==null)throw new F(`missing choices[${h}].tool_calls[${v}].function.arguments
${ki(t)}`);return{...T,id:C,type:b,function:{...I,name:O,arguments:N}}})}}:{...y,message:{...m,content:w,role:d,refusal:u.refusal??null},finish_reason:c,index:h,logprobs:f}}),created:s,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return Iv(l,e)}function ki(t){return JSON.stringify(t)}class gr extends Fs{static fromReadableStream(e){const n=new gr(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const s=new gr(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,i)),s}static runTools(e,n,r){const s=new gr(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}}let Tm=class extends H{parse(e,n){return Dv(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>ec(r,e))}runFunctions(e,n){return e.stream?gr.runFunctions(this._client,e,n):Ls.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?gr.runTools(this._client,e,n):Ls.runTools(this._client,e,n)}stream(e,n){return Fs.createChatCompletion(this._client,e,n)}};class Vl extends H{constructor(){super(...arguments),this.completions=new Tm(this._client)}}(function(t){t.Completions=Tm})(Vl||(Vl={}));class jm extends H{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class tc extends H{constructor(){super(...arguments),this.sessions=new jm(this._client)}}tc.Sessions=jm;var R=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ue=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},me,Wl,St,Hi,ut,bn,or,xn,_o,ze,Vi,Wi,gs,rs,ss,Jd,qd,Kd,Qd,Gd,Xd,Yd;class pt extends cm{constructor(){super(...arguments),me.add(this),Wl.set(this,[]),St.set(this,{}),Hi.set(this,{}),ut.set(this,void 0),bn.set(this,void 0),or.set(this,void 0),xn.set(this,void 0),_o.set(this,void 0),ze.set(this,void 0),Vi.set(this,void 0),Wi.set(this,void 0),gs.set(this,void 0)}[(Wl=new WeakMap,St=new WeakMap,Hi=new WeakMap,ut=new WeakMap,bn=new WeakMap,or=new WeakMap,xn=new WeakMap,_o=new WeakMap,ze=new WeakMap,Vi=new WeakMap,Wi=new WeakMap,gs=new WeakMap,me=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new pt;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=Et.fromReadableStream(e,this.controller);for await(const o of s)R(this,me,"m",rs).call(this,o);if((i=s.controller.signal)!=null&&i.aborted)throw new ft;return this._addRun(R(this,me,"m",ss).call(this))}toReadableStream(){return new Et(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,s,i){const o=new pt;return o._run(()=>o._runToolAssistantStream(e,n,r,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,n,r,s,i){var u;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...s,stream:!0},l=await e.submitToolOutputs(n,r,a,{...i,signal:this.controller.signal});this._connected();for await(const c of l)R(this,me,"m",rs).call(this,c);if((u=l.controller.signal)!=null&&u.aborted)throw new ft;return this._addRun(R(this,me,"m",ss).call(this))}static createThreadAssistantStream(e,n,r){const s=new pt;return s._run(()=>s._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,n,r,s){const i=new pt;return i._run(()=>i._runAssistantStream(e,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return R(this,Vi,"f")}currentRun(){return R(this,Wi,"f")}currentMessageSnapshot(){return R(this,ut,"f")}currentRunStepSnapshot(){return R(this,gs,"f")}async finalRunSteps(){return await this.done(),Object.values(R(this,St,"f"))}async finalMessages(){return await this.done(),Object.values(R(this,Hi,"f"))}async finalRun(){if(await this.done(),!R(this,bn,"f"))throw Error("Final run was not received.");return R(this,bn,"f")}async _createThreadAssistantStream(e,n,r){var a;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await e.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const l of o)R(this,me,"m",rs).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new ft;return this._addRun(R(this,me,"m",ss).call(this))}async _createAssistantStream(e,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.create(n,o,{...s,signal:this.controller.signal});this._connected();for await(const u of a)R(this,me,"m",rs).call(this,u);if((l=a.controller.signal)!=null&&l.aborted)throw new ft;return this._addRun(R(this,me,"m",ss).call(this))}static accumulateDelta(e,n){for(const[r,s]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=s;continue}let i=e[r];if(i==null){e[r]=s;continue}if(r==="index"||r==="type"){e[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(ja(i)&&ja(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...s);continue}for(const o of s){if(!ja(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=i[a];l==null?i.push(o):i[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);e[r]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,s){return await this._createAssistantStream(n,e,r,s)}async _runToolAssistantStream(e,n,r,s,i){return await this._createToolAssistantStream(r,e,n,s,i)}}rs=function(e){if(!this.ended)switch(Ue(this,Vi,e,"f"),R(this,me,"m",Kd).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":R(this,me,"m",Yd).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":R(this,me,"m",qd).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":R(this,me,"m",Jd).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},ss=function(){if(this.ended)throw new F("stream has ended, this shouldn't happen");if(!R(this,bn,"f"))throw Error("Final run has not been received");return R(this,bn,"f")},Jd=function(e){const[n,r]=R(this,me,"m",Gd).call(this,e,R(this,ut,"f"));Ue(this,ut,n,"f"),R(this,Hi,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,o=n.content[s.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=R(this,or,"f")){if(R(this,xn,"f"))switch(R(this,xn,"f").type){case"text":this._emit("textDone",R(this,xn,"f").text,R(this,ut,"f"));break;case"image_file":this._emit("imageFileDone",R(this,xn,"f").image_file,R(this,ut,"f"));break}Ue(this,or,s.index,"f")}Ue(this,xn,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(R(this,or,"f")!==void 0){const s=e.data.content[R(this,or,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,R(this,ut,"f"));break;case"text":this._emit("textDone",s.text,R(this,ut,"f"));break}}R(this,ut,"f")&&this._emit("messageDone",e.data),Ue(this,ut,void 0,"f")}},qd=function(e){const n=R(this,me,"m",Qd).call(this,e);switch(Ue(this,gs,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==R(this,_o,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(R(this,ze,"f")&&this._emit("toolCallDone",R(this,ze,"f")),Ue(this,_o,i.index,"f"),Ue(this,ze,n.step_details.tool_calls[i.index],"f"),R(this,ze,"f")&&this._emit("toolCallCreated",R(this,ze,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ue(this,gs,void 0,"f"),e.data.step_details.type=="tool_calls"&&R(this,ze,"f")&&(this._emit("toolCallDone",R(this,ze,"f")),Ue(this,ze,void 0,"f")),this._emit("runStepDone",e.data,n);break}},Kd=function(e){R(this,Wl,"f").push(e),this._emit("event",e)},Qd=function(e){switch(e.event){case"thread.run.step.created":return R(this,St,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=R(this,St,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const s=pt.accumulateDelta(n,r.delta);R(this,St,"f")[e.data.id]=s}return R(this,St,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":R(this,St,"f")[e.data.id]=e.data;break}if(R(this,St,"f")[e.data.id])return R(this,St,"f")[e.data.id];throw new Error("No snapshot available")},Gd=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=R(this,me,"m",Xd).call(this,i,o)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Xd=function(e,n){return pt.accumulateDelta(n,e)},Yd=function(e){switch(Ue(this,Wi,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Ue(this,bn,e.data,"f"),R(this,ze,"f")&&(this._emit("toolCallDone",R(this,ze,"f")),Ue(this,ze,void 0,"f"));break}};class nc extends H{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return Ee(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,rc,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class rc extends Ge{}nc.MessagesPage=rc;class sc extends H{retrieve(e,n,r,s={},i){return Ee(s)?this.retrieve(e,n,r,{},s):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n,r={},s){return Ee(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,ic,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class ic extends Ge{}sc.RunStepsPage=ic;class qs extends H{constructor(){super(...arguments),this.steps=new sc(this._client)}create(e,n,r){const{include:s,...i}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:s},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return Ee(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,oc,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}createAndStream(e,n,r){return pt.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Vs(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,r){return pt.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,s){const i=await this.submitToolOutputs(e,n,r,s);return await this.poll(e,i.id,s)}submitToolOutputsStream(e,n,r,s){return pt.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,s)}}class oc extends Ge{}qs.RunsPage=oc;qs.Steps=sc;qs.RunStepsPage=ic;class Or extends H{constructor(){super(...arguments),this.runs=new qs(this._client),this.messages=new nc(this._client)}create(e={},n){return Ee(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return pt.createThreadAssistantStream(e,this._client.beta.threads,n)}}Or.Runs=qs;Or.RunsPage=oc;Or.Messages=nc;Or.MessagesPage=rc;const Wv=async t=>{const e=await Promise.allSettled(t),n=e.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of e)s.status==="fulfilled"&&r.push(s.value);return r};let ac=class extends H{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},r){return Ee(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,Wo,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(e,n,{...r,headers:s}).withResponse(),o=i.data;switch(o.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Vs(a);break;case"failed":case"completed":return o}}}async upload(e,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:s.id},r)}async uploadAndPoll(e,n,r){const s=await this.upload(e,n,r);return await this.poll(e,s.id,r)}};class Wo extends Ge{}ac.VectorStoreFilesPage=Wo;class Am extends H{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n);return await this.poll(e,s.id,r)}listFiles(e,n,r={},s){return Ee(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,Wo,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Vs(a);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,o=Math.min(i,n.length),a=this._client,l=n.values(),u=[...r];async function c(f){for(let y of f){const w=await a.files.create({file:y,purpose:"assistants"},s);u.push(w.id)}}const h=Array(o).fill(l).map(c);return await Wv(h),await this.createAndPoll(e,{file_ids:u})}}class Rr extends H{constructor(){super(...arguments),this.files=new ac(this._client),this.fileBatches=new Am(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Ee(e)?this.list({},e):this._client.getAPIList("/vector_stores",lc,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class lc extends Ge{}Rr.VectorStoresPage=lc;Rr.Files=ac;Rr.VectorStoreFilesPage=Wo;Rr.FileBatches=Am;class pn extends H{constructor(){super(...arguments),this.realtime=new tc(this._client),this.vectorStores=new Rr(this._client),this.chat=new Vl(this._client),this.assistants=new Yu(this._client),this.threads=new Or(this._client)}}pn.Realtime=tc;pn.VectorStores=Rr;pn.VectorStoresPage=lc;pn.Assistants=Yu;pn.AssistantsPage=Zu;pn.Threads=Or;class Om extends H{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class Rm extends H{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}class uc extends H{create(e,n){return this._client.post("/files",Er({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return Ee(e)?this.list({},e):this._client.getAPIList("/files",cc,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,n)}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(e);for(;!o.status||!s.has(o.status);)if(await Vs(n),o=await this.retrieve(e),Date.now()-i>r)throw new Qu({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return o}}class cc extends Ge{}uc.FileObjectsPage=cc;class dc extends H{list(e,n={},r){return Ee(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,hc,{query:n,...r})}}class hc extends Ge{}dc.FineTuningJobCheckpointsPage=hc;class Nr extends H{constructor(){super(...arguments),this.checkpoints=new dc(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return Ee(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",fc,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return Ee(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,pc,{query:n,...r})}}class fc extends Ge{}class pc extends Ge{}Nr.FineTuningJobsPage=fc;Nr.FineTuningJobEventsPage=pc;Nr.Checkpoints=dc;Nr.FineTuningJobCheckpointsPage=hc;class Ks extends H{constructor(){super(...arguments),this.jobs=new Nr(this._client)}}Ks.Jobs=Nr;Ks.FineTuningJobsPage=fc;Ks.FineTuningJobEventsPage=pc;class Nm extends H{createVariation(e,n){return this._client.post("/images/variations",Er({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",Er({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class mc extends H{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",gc,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class gc extends Rv{}mc.ModelsPage=gc;class Im extends H{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class $m extends H{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,Er({body:n,...r}))}}class yc extends H{constructor(){super(...arguments),this.parts=new $m(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}yc.Parts=$m;var Lm;class M extends wv{constructor({baseURL:e=vi("OPENAI_BASE_URL"),apiKey:n=vi("OPENAI_API_KEY"),organization:r=vi("OPENAI_ORG_ID")??null,project:s=vi("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new F("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:s,...i,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&Av())throw new F(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new Om(this),this.chat=new Vo(this),this.embeddings=new Rm(this),this.files=new uc(this),this.images=new Nm(this),this.audio=new Ws(this),this.moderations=new Im(this),this.models=new mc(this),this.fineTuning=new Ks(this),this.beta=new pn(this),this.batches=new Gu(this),this.uploads=new yc(this),this._options=o,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return tv(e,{arrayFormat:"brackets"})}}Lm=M;M.OpenAI=Lm;M.DEFAULT_TIMEOUT=6e5;M.OpenAIError=F;M.APIError=ve;M.APIConnectionError=Do;M.APIConnectionTimeoutError=Qu;M.APIUserAbortError=ft;M.NotFoundError=Bp;M.ConflictError=zp;M.RateLimitError=Vp;M.BadRequestError=Dp;M.AuthenticationError=Mp;M.InternalServerError=Wp;M.PermissionDeniedError=Up;M.UnprocessableEntityError=Hp;M.toFile=Xp;M.fileFromPath=Lp;M.Completions=Om;M.Chat=Vo;M.ChatCompletionsPage=Ho;M.Embeddings=Rm;M.Files=uc;M.FileObjectsPage=cc;M.Images=Nm;M.Audio=Ws;M.Moderations=Im;M.Models=mc;M.ModelsPage=gc;M.FineTuning=Ks;M.Beta=pn;M.Batches=Gu;M.BatchesPage=Xu;M.Uploads=yc;const Jv="modulepreload",qv=function(t){return"/"+t},Zd={},br=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=qv(l),l in Zd)return;Zd[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Jv,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,y)=>{h.addEventListener("load",f),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Kv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>br(async()=>{const{default:r}=await Promise.resolve().then(()=>Ir);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class vc extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Qv extends vc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Gv extends vc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Xv extends vc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Jl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Jl||(Jl={}));var Yv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Zv{constructor(e,{headers:n={},customFetch:r,region:s=Jl.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Kv(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Yv(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(w=>{throw new Qv(w)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Gv(c);if(!c.ok)throw new Xv(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return f==="application/json"?y=yield c.json():f==="application/octet-stream"?y=yield c.blob():f==="text/event-stream"?y=c:f==="multipart/form-data"?y=yield c.formData():y=yield c.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var $e={},wc={},Jo={},Qs={},qo={},Ko={},ew=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pr=ew();const tw=Pr.fetch,Fm=Pr.fetch.bind(Pr),Dm=Pr.Headers,nw=Pr.Request,rw=Pr.Response,Ir=Object.freeze(Object.defineProperty({__proto__:null,Headers:Dm,Request:nw,Response:rw,default:Fm,fetch:tw},Symbol.toStringTag,{value:"Module"})),sw=ug(Ir);var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});let iw=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Qo.default=iw;var Mm=tt&&tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ko,"__esModule",{value:!0});const ow=Mm(sw),aw=Mm(Qo);let lw=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=ow.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,h=null,f=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=m:c=JSON.parse(m))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,f=406,y="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const _=await i.text();try{u=JSON.parse(_),Array.isArray(u)&&i.status===404&&(c=[],u=null,f=200,y="OK")}catch{i.status===404&&_===""?(f=204,y="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,y="OK"),u&&this.shouldThrowOnError)throw new aw.default(u)}return{error:u,data:c,count:h,status:f,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};Ko.default=lw;var uw=tt&&tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qo,"__esModule",{value:!0});const cw=uw(Ko);let dw=class extends cw.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};qo.default=dw;var hw=tt&&tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qs,"__esModule",{value:!0});const fw=hw(qo);let pw=class extends fw.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Qs.default=pw;var mw=tt&&tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jo,"__esModule",{value:!0});const Jr=mw(Qs);let gw=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Jr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Jr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Jr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Jr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Jr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Jo.default=gw;var Go={},Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.version=void 0;Xo.version="0.0.0-automated";Object.defineProperty(Go,"__esModule",{value:!0});Go.DEFAULT_HEADERS=void 0;const yw=Xo;Go.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${yw.version}`};var Um=tt&&tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wc,"__esModule",{value:!0});const vw=Um(Jo),ww=Um(Qs),_w=Go;let xw=class Bm{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},_w.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new vw.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Bm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new ww.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};wc.default=xw;var $r=tt&&tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($e,"__esModule",{value:!0});$e.PostgrestError=$e.PostgrestBuilder=$e.PostgrestTransformBuilder=$e.PostgrestFilterBuilder=$e.PostgrestQueryBuilder=$e.PostgrestClient=void 0;const zm=$r(wc);$e.PostgrestClient=zm.default;const Hm=$r(Jo);$e.PostgrestQueryBuilder=Hm.default;const Vm=$r(Qs);$e.PostgrestFilterBuilder=Vm.default;const Wm=$r(qo);$e.PostgrestTransformBuilder=Wm.default;const Jm=$r(Ko);$e.PostgrestBuilder=Jm.default;const qm=$r(Qo);$e.PostgrestError=qm.default;var kw=$e.default={PostgrestClient:zm.default,PostgrestQueryBuilder:Hm.default,PostgrestFilterBuilder:Vm.default,PostgrestTransformBuilder:Wm.default,PostgrestBuilder:Jm.default,PostgrestError:qm.default};const{PostgrestClient:Sw,PostgrestQueryBuilder:k1,PostgrestFilterBuilder:S1,PostgrestTransformBuilder:C1,PostgrestBuilder:E1,PostgrestError:b1}=kw,Cw="2.11.2",Ew={"X-Client-Info":`realtime-js/${Cw}`},bw="1.0.0",Km=1e4,Pw=1e3;var yr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(yr||(yr={}));var He;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(He||(He={}));var dt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(dt||(dt={}));var ql;(function(t){t.websocket="websocket"})(ql||(ql={}));var kn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(kn||(kn={}));class Tw{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Qm{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(J||(J={}));const eh=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=jw(o,t,e,s),i),{})},jw=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Gm(i,o):Kl(o)},Gm=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Nw(e,n)}switch(t){case J.bool:return Aw(e);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return Ow(e);case J.json:case J.jsonb:return Rw(e);case J.timestamp:return Iw(e);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return Kl(e);default:return Kl(e)}},Kl=t=>t,Aw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ow=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Rw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Nw=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Gm(e,a))}return t},Iw=t=>typeof t=="string"?t.replace(" ","T"):t,Xm=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class $a{constructor(e,n,r={},s=Km){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var th;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(th||(th={}));class ys{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ys.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ys.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ys.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const f=c.map(x=>x.presence_ref),y=h.map(x=>x.presence_ref),w=c.filter(x=>y.indexOf(x.presence_ref)<0),_=h.filter(x=>f.indexOf(x.presence_ref)<0);w.length>0&&(a[u]=w),_.length>0&&(l[u]=_)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(y=>y.presence_ref),f=c.filter(y=>h.indexOf(y.presence_ref)<0);e[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nh;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(nh||(nh={}));var rh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(rh||(rh={}));var Ot;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ot||(Ot={}));class _c{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $a(this,dt.join,this.params,this.timeout),this.rejoinTimer=new Qm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ys(this),this.broadcastEndpointURL=Xm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(Ot.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Ot.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(Ot.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,y=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,w=[];for(let _=0;_<y;_++){const x=f[_],{filter:{event:m,schema:d,table:p,filter:v}}=x,S=c&&c[_];if(S&&S.event===m&&S.schema===d&&S.table===p&&S.filter===v)w.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),e==null||e(Ot.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Ot.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(Ot.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ot.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=He.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new $a(this,dt.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $a(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=dt;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var w,_,x;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(_=y.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(y=>y.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var w,_,x,m,d,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const v=y.id,S=(w=y.filter)===null||w===void 0?void 0:w.event;return v&&((_=n.ids)===null||_===void 0?void 0:_.includes(v))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const v=(d=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||d===void 0?void 0:d.toLocaleLowerCase();return v==="*"||v===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:_,table:x,commit_timestamp:m,type:d,errors:p}=w;f=Object.assign(Object.assign({},{schema:_,table:x,commit_timestamp:m,eventType:d,new:{},old:{},errors:p}),this._getPayloadRecords(w))}y.callback(f,r)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&_c.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(dt.close,{},e)}_onError(e){this._on(dt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=eh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=eh(e.columns,e.old_record)),n}}const $w=()=>{},Lw=typeof WebSocket<"u",Fw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dw{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ew,this.params={},this.timeout=Km,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=$w,this.conn=null,this.sendBuffer=[],this.serializer=new Tw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>br(async()=>{const{default:l}=await Promise.resolve().then(()=>Ir);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${ql.websocket}`,this.httpEndpoint=Xm(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Qm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Lw){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Mw(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),br(async()=>{const{default:e}=await import("./browser-B6OJC1bQ.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bw}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yr.connecting:return kn.Connecting;case yr.open:return kn.Open;case yr.closing:return kn.Closing;default:return kn.Closed}}isConnected(){return this.connectionState()===kn.Open}channel(e,n={config:{}}){const r=new _c(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(dt.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Pw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(dt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Fw],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Mw{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=yr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class xc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function de(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Uw extends xc{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ql extends xc{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Bw=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Ym=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>br(async()=>{const{default:r}=await Promise.resolve().then(()=>Ir);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},zw=()=>Bw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield br(()=>Promise.resolve().then(()=>Ir),void 0)).Response:Response}),Gl=t=>{if(Array.isArray(t))return t.map(n=>Gl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Gl(r)}),e};var Ln=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const La=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hw=(t,e,n)=>Ln(void 0,void 0,void 0,function*(){const r=yield zw();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Uw(La(s),t.status||500))}).catch(s=>{e(new Ql(La(s),s))}):e(new Ql(La(t),t))}),Vw=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Gs(t,e,n,r,s,i){return Ln(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Vw(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Hw(l,a,r))})})}function xo(t,e,n,r){return Ln(this,void 0,void 0,function*(){return Gs(t,"GET",e,n,r)})}function Kt(t,e,n,r,s){return Ln(this,void 0,void 0,function*(){return Gs(t,"POST",e,r,s,n)})}function Ww(t,e,n,r,s){return Ln(this,void 0,void 0,function*(){return Gs(t,"PUT",e,r,s,n)})}function Jw(t,e,n,r){return Ln(this,void 0,void 0,function*(){return Gs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Zm(t,e,n,r,s){return Ln(this,void 0,void 0,function*(){return Gs(t,"DELETE",e,r,s,n)})}var Re=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const qw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kw{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ym(s)}uploadOrUpdate(e,n,r,s){return Re(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},sh),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(de(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Re(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:sh.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(de(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Re(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Kt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new xc("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}update(e,n,r){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Re(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield Kt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Re(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Kt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Re(this,void 0,void 0,function*(){try{const s=yield Kt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}download(e,n){return Re(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield xo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}})}info(e){return Re(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield xo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Gl(r),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}exists(e){return Re(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Jw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(de(r)&&r instanceof Ql){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Re(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}list(e,n,r){return Re(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},qw),n),{prefix:e||""});return{data:yield Kt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Qw="2.7.1",Gw={"X-Client-Info":`storage-js/${Qw}`};var Hn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Xw{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Gw),n),this.fetch=Ym(r)}listBuckets(){return Hn(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(de(e))return{data:null,error:e};throw e}})}getBucket(e){return Hn(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Hn(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Hn(this,void 0,void 0,function*(){try{return{data:yield Ww(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Hn(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Hn(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}}class Yw extends Xw{constructor(e,n={},r){super(e,n,r)}from(e){return new Kw(this.url,this.headers,e,this.fetch)}}const Zw="2.48.1";let is="";typeof Deno<"u"?is="deno":typeof document<"u"?is="web":typeof navigator<"u"&&navigator.product==="ReactNative"?is="react-native":is="node";const e_={"X-Client-Info":`supabase-js-${is}/${Zw}`},t_={headers:e_},n_={schema:"public"},r_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},s_={};var i_=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const o_=t=>{let e;return t?e=t:typeof fetch>"u"?e=Fm:e=fetch,(...n)=>e(...n)},a_=()=>typeof Headers>"u"?Dm:Headers,l_=(t,e,n)=>{const r=o_(n),s=a_();return(i,o)=>i_(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var u_=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function c_(t){return t.replace(/\/$/,"")}function d_(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>u_(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const eg="2.67.3",h_="http://localhost:9999",f_="supabase.auth.token",p_={"X-Client-Info":`gotrue-js/${eg}`},ih=10,Xl="X-Supabase-Api-Version",tg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function m_(t){return Math.round(Date.now()/1e3)+t}function g_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const _t=()=>typeof window<"u"&&typeof document<"u",yn={tested:!1,writable:!1},vs=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yn.tested)return yn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),yn.tested=!0,yn.writable=!0}catch{yn.tested=!0,yn.writable=!1}return yn.writable};function y_(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const ng=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>br(async()=>{const{default:r}=await Promise.resolve().then(()=>Ir);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},v_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",rg=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Si=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ci=async(t,e)=>{await t.removeItem(e)};function w_(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Yo{constructor(){this.promise=new Yo.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Yo.promiseConstructor=Promise;function oh(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(w_(r))}async function __(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function x_(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function k_(t){return("0"+t.toString(16)).substr(-2)}function S_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,k_).join("")}async function C_(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function E_(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function b_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await C_(t);return E_(n)}async function Vn(t,e,n=!1){const r=S_();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await rg(t,`${e}-code-verifier`,s);const i=await b_(r);return[i,r===i?"plain":"s256"]}const P_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function T_(t){const e=t.headers.get(Xl);if(!e||!e.match(P_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class kc extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class j_ extends kc{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function A_(t){return $(t)&&t.name==="AuthApiError"}class sg extends kc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Fn extends kc{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Vt extends Fn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function O_(t){return $(t)&&t.name==="AuthSessionMissingError"}class Fa extends Fn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ei extends Fn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bi extends Fn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function R_(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class ah extends Fn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yl extends Fn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Da(t){return $(t)&&t.name==="AuthRetryableFetchError"}class lh extends Fn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var N_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const _n=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),I_=[502,503,504];async function uh(t){var e;if(!v_(t))throw new Yl(_n(t),0);if(I_.includes(t.status))throw new Yl(_n(t),t.status);let n;try{n=await t.json()}catch(i){throw new sg(_n(i),i)}let r;const s=T_(t);if(s&&s.getTime()>=tg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new lh(_n(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Vt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new lh(_n(n),t.status,n.weak_password.reasons);throw new j_(_n(n),t.status||500,r)}const $_=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function D(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Xl]||(i[Xl]=tg["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await L_(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function L_(t,e,n,r,s,i){const o=$_(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Yl(_n(l),0)}if(a.ok||await uh(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await uh(l)}}function Wt(t){var e;let n=null;U_(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=m_(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function ch(t){const e=Wt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function F_(t){return{data:t,error:null}}function D_(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=N_(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function M_(t){return t}function U_(t){return t.access_token&&t.refresh_token&&t.expires_in}var B_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class z_{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=ng(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=B_(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:D_,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:M_});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Xt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}const H_={getItem:t=>vs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{vs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{vs()&&globalThis.localStorage.removeItem(t)}};function dh(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function V_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wn={debug:!!(globalThis&&vs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ig extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class W_ extends ig{}async function J_(t,e,n){Wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Wn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new W_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Wn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}V_();const q_={url:h_,storageKey:f_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:p_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},qr=30*1e3,hh=3;async function fh(t,e,n){return await n()}class Ds{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ds.nextInstanceID,Ds.nextInstanceID+=1,this.instanceID>0&&_t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},q_),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new z_({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ng(s.fetch),this.lock=s.lock||fh,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:_t()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=J_:this.lock=fh,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:vs()?this.storage=H_:(this.memoryStorage={},this.storage=dh(this.memoryStorage)):(this.memoryStorage={},this.storage=dh(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${eg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=y_(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),_t()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),R_(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $(n)?{error:n}:{error:new sg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Wt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:h,options:f}=e;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await Vn(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:w},xform:Wt})}else if("phone"in e){const{phone:c,password:h,options:f}=e;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Wt})}else throw new Ei("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ch})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ch})}else throw new Ei("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Fa}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Si(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Wt});if(await Ci(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Fa}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if($(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Wt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Fa}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Vn(this.storage,this.storageKey));const{error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ei("You must provide either an email or phone number.")}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Wt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Vn(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:F_})}catch(i){if($(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Vt;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if($(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await D(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await D(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ei("You must provide either an email or phone number and a type")}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Si(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vt}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Xt})})}catch(n){if($(n))return O_(n)&&(await this._removeSession(),await Ci(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Vt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Vn(this.storage,this.storageKey));const{data:u,error:c}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Xt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return oh(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=oh(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if($(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Vt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!_t())throw new bi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ah("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ah("No code detected.");const{data:d,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:d.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new bi("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let f=c+h;l&&(f=parseInt(l));const y=f-c;y*1e3<=qr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const w=f-h;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,c);const{data:_,error:x}=await this._getUser(i);if(x)throw x;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(r){if($(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Si(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(A_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ci(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=g_(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Vn(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if($(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",y,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return _t()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if($(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await x_(async s=>(s>0&&await __(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Da(i)&&Date.now()+o-r<qr})}catch(r){if(this._debug(n,"error",r),$(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),_t()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Si(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+ih;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ih}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Da(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Yo;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Vt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),$(i)){const o={session:null,error:i};return Da(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await rg(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ci(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/qr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${qr}ms, refresh threshold is ${hh} ticks`),s<=hh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ig)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Vn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Ds.nextInstanceID=0;const K_=Ds;class Q_ extends K_{constructor(e){super(e)}}var G_=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class X_{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=c_(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:n_,realtime:s_,auth:Object.assign(Object.assign({},r_),{storageKey:l}),global:t_},c=d_(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=l_(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Sw(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Zv(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Yw(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return G_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Q_({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Dw(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Y_=(t,e,n)=>new X_(t,e,n),Z_="https://psqczufoemgwwznucuxm.supabase.co",e1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBzcWN6dWZvZW1nd3d6bnVjdXhtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk4ODE1OTQsImV4cCI6MjA1NTQ1NzU5NH0.aWgtAzAyHZ57bmc8usMjqL6rlpQJMnbIvWEyYSoecZs",le=Y_(Z_,e1,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},db:{schema:"public"},global:{headers:{"x-application-name":"mealbyme"}}}),og=(t,e=null)=>{var n;return(n=t==null?void 0:t.message)!=null&&n.includes("Failed to fetch")?{error:"Unable to connect. Please check your internet connection.",data:e}:(t==null?void 0:t.code)==="PGRST116"?{error:"No data found.",data:e}:(t==null?void 0:t.code)==="42P01"?{error:"System error. Please try again later.",data:e}:{error:"An unexpected error occurred. Please try again.",data:e}},ag=async(t,e=3,n=1e3)=>{let r;for(let s=0;s<e;s++)try{return await t()}catch(i){if(r=i,s===e-1)break;await new Promise(o=>setTimeout(o,n*(s+1)))}throw r};function t1({isOpen:t,onClose:e}){const[n,r]=z.useState(!0),[s,i]=z.useState(""),[o,a]=z.useState(""),[l,u]=z.useState(null),[c,h]=z.useState(!1),[f,y]=z.useState(!1);if(!t)return null;const w=async x=>{try{const{data:m,error:d}=await le.auth.signInWithOtp({email:x,options:{shouldCreateUser:!1}});return!!(!d||d.message.includes("Email not confirmed")||d.message.includes("User already registered"))}catch{return!1}},_=async x=>{x.preventDefault(),u(null),h(!0),y(!1);try{if(n){if(await w(s)){u("An account with this email already exists. Please sign in instead."),h(!1);return}const{error:d}=await le.auth.signUp({email:s,password:o});if(d)throw d;y(!0)}else{const{error:m}=await le.auth.signInWithPassword({email:s,password:o});if(m)throw m;e()}}catch(m){u(m instanceof Error?m.message:"An error occurred")}finally{h(!1)}};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative",children:[g.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:g.jsx(Ku,{className:"w-5 h-5"})}),g.jsx("h2",{className:"text-2xl font-bold mb-6",children:n?"Create Account":"Sign In"}),n&&!f&&g.jsxs("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg",children:[g.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Benefits of joining:"}),g.jsxs("ul",{className:"space-y-2",children:[g.jsxs("li",{className:"flex items-center gap-2 text-gray-700",children:[g.jsx(Pp,{className:"w-5 h-5 text-[#FF6B6B]"}),g.jsx("span",{children:"Save your favorite recipes"})]}),g.jsxs("li",{className:"flex items-center gap-2 text-gray-700",children:[g.jsx(W0,{className:"w-5 h-5 text-[#FF6B6B]"}),g.jsx("span",{children:"Remember your dietary preferences"})]}),g.jsxs("li",{className:"flex items-center gap-2 text-gray-700",children:[g.jsx(Rl,{className:"w-5 h-5 text-[#FF6B6B]"}),g.jsx("span",{children:"Get personalized recipe suggestions"})]})]})]}),f?g.jsxs("div",{className:"text-center py-4",children:[g.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(Rl,{className:"w-8 h-8 text-green-600"})}),g.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Check your email"}),g.jsx("p",{className:"text-gray-600 mb-4",children:"We've sent you an email with a link to confirm your account. Please check your inbox and click the link to complete the sign-up process."}),g.jsx("button",{onClick:e,className:"text-[#FF6B6B] hover:text-[#FF5555] font-medium",children:"Close this window"})]}):g.jsxs("form",{onSubmit:_,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),g.jsx("input",{id:"email",type:"email",value:s,onChange:x=>i(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),g.jsx("input",{id:"password",type:"password",value:o,onChange:x=>a(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),l&&g.jsx("div",{className:"text-red-600 text-sm",children:l}),g.jsx("button",{type:"submit",disabled:c,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-[#FF6B6B] to-[#FFB400] hover:from-[#FF5555] hover:to-[#E6A300] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FF6B6B] disabled:opacity-50",children:c?"Please wait...":n?"Create Account":"Sign In"}),g.jsx("div",{className:"text-sm text-center",children:g.jsx("button",{type:"button",onClick:()=>{r(!n),u(null),y(!1)},className:"text-[#FF6B6B] hover:text-[#FF5555]",children:n?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})]})})}function n1({isOpen:t,onClose:e,onUpdate:n}){const[r,s]=z.useState({dietary_restrictions:[],favorite_ingredients:[],disliked_ingredients:[]}),[i,o]=z.useState(!0),[a,l]=z.useState(!1),[u,c]=z.useState(null),[h,f]=z.useState(!1);z.useEffect(()=>{t&&(w(),y())},[t]);const y=async()=>{try{const{data:{user:d}}=await le.auth.getUser();if(!d)return;const{data:p,error:v}=await le.from("subscriptions").select("status").eq("user_id",d.id).maybeSingle();if(v)throw v;f((p==null?void 0:p.status)==="active")}catch(d){console.error("Error loading subscription status:",d)}},w=async()=>{try{const{data:{user:d}}=await le.auth.getUser();if(!d)return;const{data:p,error:v}=await le.from("user_preferences").select("*").eq("user_id",d.id).maybeSingle();if(v&&v.code!=="PGRST116"){console.error("Error loading preferences:",v),c("Failed to load preferences. Please try again.");return}p&&s({dietary_restrictions:p.dietary_restrictions||[],favorite_ingredients:p.favorite_ingredients||[],disliked_ingredients:p.disliked_ingredients||[]})}catch(d){console.error("Error loading preferences:",d),c("Failed to load preferences. Please try again.")}finally{o(!1)}},_=async()=>{l(!0),c(null);try{const{data:{user:d}}=await le.auth.getUser();if(!d)throw new Error("No user logged in");const{error:p}=await le.from("user_preferences").upsert({user_id:d.id,dietary_restrictions:r.dietary_restrictions,favorite_ingredients:r.favorite_ingredients,disliked_ingredients:r.disliked_ingredients,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(p)throw p;n(),e()}catch(d){console.error("Error saving preferences:",d),c(d instanceof Error?d.message:"Failed to save preferences")}finally{l(!1)}},x=(d,p)=>{s(v=>({...v,[d]:p.split(",").map(S=>S.trim()).filter(Boolean)}))},m=()=>{window.location.href="https://billing.stripe.com/p/login/cN201l98Iadzg12aEE"};return t?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative",children:[g.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:g.jsx(Ku,{className:"w-5 h-5"})}),g.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Your Preferences"}),i?g.jsx("div",{className:"text-center py-4",children:"Loading..."}):g.jsxs("div",{className:"space-y-4",children:[h&&g.jsxs("div",{className:"bg-gradient-to-r from-[#FF6B6B] to-[#FFB400] text-white p-4 rounded-lg mb-6",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(qu,{className:"w-5 h-5"}),g.jsx("span",{className:"font-semibold",children:"Premium Member"})]}),g.jsx("button",{onClick:m,className:"px-3 py-1 bg-white text-[#FF6B6B] rounded-md text-sm font-medium hover:bg-gray-100 transition-colors",children:"Manage Subscription"})]}),g.jsx("p",{className:"text-sm opacity-90",children:"Thank you for being a premium member! You have access to unlimited recipe generations and all premium features."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dietary Restrictions"}),g.jsx("input",{type:"text",value:r.dietary_restrictions.join(", "),onChange:d=>x("dietary_restrictions",d.target.value),placeholder:"E.g., vegetarian, gluten-free, dairy-free",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Favorite Ingredients"}),g.jsx("input",{type:"text",value:r.favorite_ingredients.join(", "),onChange:d=>x("favorite_ingredients",d.target.value),placeholder:"E.g., garlic, olive oil, tomatoes",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disliked Ingredients"}),g.jsx("input",{type:"text",value:r.disliked_ingredients.join(", "),onChange:d=>x("disliked_ingredients",d.target.value),placeholder:"E.g., mushrooms, cilantro",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),u&&g.jsx("div",{className:"text-red-600 text-sm",children:u}),g.jsxs("button",{onClick:_,disabled:a,className:"w-full flex items-center justify-center gap-2 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-[#FF6B6B] to-[#FFB400] hover:from-[#FF5555] hover:to-[#E6A300] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FF6B6B] disabled:opacity-50",children:[g.jsx(H0,{className:"w-4 h-4"}),a?"Saving...":"Save Preferences"]})]})]})}):null}function r1({isOpen:t,onClose:e}){if(!t)return null;const n=()=>{window.location.href="https://buy.stripe.com/eVag2Nez88e9bFmbII"};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative",children:[g.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:g.jsx(Ku,{className:"w-5 h-5"})}),g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#FF6B6B] to-[#FFB400] rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(qu,{className:"w-8 h-8 text-white"})}),g.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Upgrade to Premium"}),g.jsx("p",{className:"text-gray-600",children:"Get unlimited access to all premium features"})]}),g.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[g.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Premium Features"}),g.jsxs("ul",{className:"space-y-3",children:[g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx(mi,{className:"w-5 h-5 text-[#FF6B6B]"}),g.jsx("span",{children:"Unlimited recipe generations"})]}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx(mi,{className:"w-5 h-5 text-[#FF6B6B]"}),g.jsx("span",{children:"Save unlimited favorite recipes"})]}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx(mi,{className:"w-5 h-5 text-[#FF6B6B]"}),g.jsx("span",{children:"Advanced dietary preferences"})]}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx(mi,{className:"w-5 h-5 text-[#FF6B6B]"}),g.jsx("span",{children:"Weekly meal planning"})]})]})]}),g.jsxs("div",{className:"text-center mb-6",children:[g.jsxs("div",{className:"mb-2",children:[g.jsx("span",{className:"text-3xl font-bold",children:"$9.99"}),g.jsx("span",{className:"text-gray-600",children:"/month"})]}),g.jsx("p",{className:"text-sm text-gray-500",children:"Cancel anytime"})]}),g.jsx("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 py-3 px-4 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-gradient-to-r from-[#FF6B6B] to-[#FFB400] hover:from-[#FF5555] hover:to-[#E6A300] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FF6B6B]",children:"Subscribe Now"})]})})}function s1({recipe:t,onSaved:e}){const[n,r]=ji.useState(!1),[s,i]=ji.useState(null),[o,a]=ji.useState(!1),l=async()=>{r(!0),i(null);try{const{data:{user:u}}=await le.auth.getUser();if(!u)throw new Error("Please sign in to save recipes");const{error:c}=await le.from("saved_recipes").insert({user_id:u.id,title:t.title,ingredients:t.ingredients,steps:t.steps,cooking_time:t.cookingTime,servings:t.servings,difficulty:t.difficulty});if(c)throw c;a(!0),e==null||e()}catch(u){i(u instanceof Error?u.message:"Failed to save recipe"),console.error("Error saving recipe:",u)}finally{r(!1)}};return s?g.jsx("div",{className:"text-red-600 text-sm flex items-center gap-2",children:g.jsx("span",{children:s})}):g.jsxs("button",{onClick:l,disabled:n||o,className:"flex items-center gap-2 text-gray-600 hover:text-[#FF6B6B] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n?g.jsx(B0,{className:"w-5 h-5 animate-spin"}):o?g.jsx(D0,{className:"w-5 h-5 text-[#FF6B6B]"}):g.jsx(Pp,{className:"w-5 h-5"}),g.jsx("span",{children:n?"Saving...":o?"Saved!":"Save Recipe"})]})}function i1(){return g.jsx("div",{className:"flex justify-center w-full",children:g.jsx("a",{href:"https://www.mealbyme.com",className:"block hover:opacity-90 transition-opacity",children:g.jsxs("svg",{width:"524",height:"101",viewBox:"0 0 524 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-12 sm:h-16 w-auto mb-4",children:[g.jsx("path",{d:"M31.209 76L14.0215 19.9941H13.582C13.6471 21.3288 13.7448 23.347 13.875 26.0488C14.0378 28.7181 14.1842 31.5664 14.3145 34.5938C14.4447 37.6211 14.5098 40.3555 14.5098 42.7969V76H0.984375V4.61328H21.5898L38.4844 59.2031H38.7773L56.6973 4.61328H77.3027V76H63.1914V42.2109C63.1914 39.9648 63.224 37.377 63.2891 34.4473C63.3867 31.5176 63.5007 28.7344 63.6309 26.0977C63.7611 23.4284 63.8587 21.4264 63.9238 20.0918H63.4844L45.0762 76H31.209ZM118.658 20.3848C123.704 20.3848 128.049 21.3613 131.695 23.3145C135.341 25.235 138.157 28.0345 140.143 31.7129C142.128 35.3913 143.121 39.8835 143.121 45.1895V52.416H107.916C108.079 56.6152 109.332 59.9193 111.676 62.3281C114.052 64.7044 117.34 65.8926 121.539 65.8926C125.022 65.8926 128.212 65.5345 131.109 64.8184C134.007 64.1022 136.985 63.028 140.045 61.5957V73.1191C137.343 74.4538 134.511 75.4303 131.549 76.0488C128.619 76.6673 125.055 76.9766 120.855 76.9766C115.387 76.9766 110.536 75.9674 106.305 73.9492C102.105 71.931 98.8014 68.8548 96.3926 64.7207C94.0163 60.5866 92.8281 55.3783 92.8281 49.0957C92.8281 42.7155 93.9023 37.4095 96.0508 33.1777C98.2318 28.9134 101.259 25.7233 105.133 23.6074C109.007 21.459 113.515 20.3848 118.658 20.3848ZM118.756 30.9805C115.859 30.9805 113.45 31.9082 111.529 33.7637C109.641 35.6191 108.551 38.5326 108.258 42.5039H129.156C129.124 40.2904 128.717 38.321 127.936 36.5957C127.187 34.8704 126.048 33.5033 124.518 32.4941C123.02 31.485 121.1 30.9805 118.756 30.9805ZM179.594 20.2871C186.918 20.2871 192.533 21.8822 196.439 25.0723C200.346 28.2624 202.299 33.1126 202.299 39.623V76H191.898L189.018 68.5781H188.627C187.064 70.5312 185.469 72.1263 183.842 73.3633C182.214 74.6003 180.342 75.5117 178.227 76.0977C176.111 76.6836 173.539 76.9766 170.512 76.9766C167.289 76.9766 164.392 76.3581 161.82 75.1211C159.281 73.8841 157.279 71.9961 155.814 69.457C154.35 66.8854 153.617 63.6302 153.617 59.6914C153.617 53.8971 155.652 49.6328 159.721 46.8984C163.79 44.1315 169.893 42.6016 178.031 42.3086L187.504 42.0156V39.623C187.504 36.7585 186.755 34.6589 185.258 33.3242C183.76 31.9896 181.677 31.3223 179.008 31.3223C176.371 31.3223 173.783 31.6966 171.244 32.4453C168.705 33.194 166.166 34.138 163.627 35.2773L158.695 25.2188C161.592 23.6888 164.831 22.4844 168.412 21.6055C172.025 20.7266 175.753 20.2871 179.594 20.2871ZM187.504 50.707L181.742 50.9023C176.924 51.0326 173.572 51.8952 171.684 53.4902C169.828 55.0853 168.9 57.1849 168.9 59.7891C168.9 62.0677 169.568 63.6953 170.902 64.6719C172.237 65.6159 173.979 66.0879 176.127 66.0879C179.317 66.0879 182.003 65.1439 184.184 63.2559C186.397 61.3678 187.504 58.6823 187.504 55.1992V50.707ZM234.572 76H219.68V0.0234375H234.572V76ZM253.418 4.61328H275.635C285.14 4.61328 292.334 5.94792 297.217 8.61719C302.1 11.2865 304.541 15.974 304.541 22.6797C304.541 25.3815 304.102 27.8229 303.223 30.0039C302.376 32.1849 301.139 33.9753 299.512 35.375C297.884 36.7747 295.898 37.6862 293.555 38.1094V38.5977C295.931 39.0859 298.079 39.9323 300 41.1367C301.921 42.3086 303.451 44.0339 304.59 46.3125C305.762 48.5586 306.348 51.5534 306.348 55.2969C306.348 59.6263 305.29 63.3372 303.174 66.4297C301.058 69.5221 298.031 71.8984 294.092 73.5586C290.186 75.1862 285.531 76 280.127 76H253.418V4.61328ZM268.555 32.8848H277.344C281.738 32.8848 284.782 32.2012 286.475 30.834C288.167 29.4342 289.014 27.3835 289.014 24.6816C289.014 21.9473 288.005 19.9941 285.986 18.8223C284.001 17.6178 280.843 17.0156 276.514 17.0156H268.555V32.8848ZM268.555 44.8965V63.5H278.418C282.975 63.5 286.149 62.6211 287.939 60.8633C289.73 59.1055 290.625 56.7454 290.625 53.7832C290.625 52.0254 290.234 50.4792 289.453 49.1445C288.672 47.8099 287.354 46.7682 285.498 46.0195C283.675 45.2708 281.152 44.8965 277.93 44.8965H268.555ZM313.621 21.4102H329.93L340.232 52.123C340.558 53.0996 340.835 54.0924 341.062 55.1016C341.29 56.1107 341.486 57.1523 341.648 58.2266C341.811 59.3008 341.941 60.4238 342.039 61.5957H342.332C342.527 59.8379 342.788 58.194 343.113 56.6641C343.471 55.1341 343.911 53.6204 344.432 52.123L354.539 21.4102H370.506L347.41 82.9824C346.01 86.7585 344.188 89.8997 341.941 92.4062C339.695 94.9453 337.107 96.8496 334.178 98.1191C331.281 99.3887 328.09 100.023 324.607 100.023C322.915 100.023 321.45 99.9258 320.213 99.7305C318.976 99.5677 317.918 99.3887 317.039 99.1934V87.377C317.723 87.5397 318.585 87.6862 319.627 87.8164C320.669 87.9466 321.759 88.0117 322.898 88.0117C324.982 88.0117 326.772 87.5723 328.27 86.6934C329.767 85.8145 331.02 84.6263 332.029 83.1289C333.038 81.6641 333.836 80.0527 334.422 78.2949L335.301 75.6094L313.621 21.4102ZM411.764 76L394.576 19.9941H394.137C394.202 21.3288 394.299 23.347 394.43 26.0488C394.592 28.7181 394.739 31.5664 394.869 34.5938C394.999 37.6211 395.064 40.3555 395.064 42.7969V76H381.539V4.61328H402.145L419.039 59.2031H419.332L437.252 4.61328H457.857V76H443.746V42.2109C443.746 39.9648 443.779 37.377 443.844 34.4473C443.941 31.5176 444.055 28.7344 444.186 26.0977C444.316 23.4284 444.413 21.4264 444.479 20.0918H444.039L425.631 76H411.764ZM499.213 20.3848C504.258 20.3848 508.604 21.3613 512.25 23.3145C515.896 25.235 518.712 28.0345 520.697 31.7129C522.683 35.3913 523.676 39.8835 523.676 45.1895V52.416H488.471C488.633 56.6152 489.887 59.9193 492.23 62.3281C494.607 64.7044 497.895 65.8926 502.094 65.8926C505.577 65.8926 508.767 65.5345 511.664 64.8184C514.561 64.1022 517.54 63.028 520.6 61.5957V73.1191C517.898 74.4538 515.066 75.4303 512.104 76.0488C509.174 76.6673 505.609 76.9766 501.41 76.9766C495.941 76.9766 491.091 75.9674 486.859 73.9492C482.66 71.931 479.356 68.8548 476.947 64.7207C474.571 60.5866 473.383 55.3783 473.383 49.0957C473.383 42.7155 474.457 37.4095 476.605 33.1777C478.786 28.9134 481.814 25.7233 485.688 23.6074C489.561 21.459 494.07 20.3848 499.213 20.3848ZM499.311 30.9805C496.413 30.9805 494.005 31.9082 492.084 33.7637C490.196 35.6191 489.105 38.5326 488.812 42.5039H509.711C509.678 40.2904 509.271 38.321 508.49 36.5957C507.742 34.8704 506.602 33.5033 505.072 32.4941C503.575 31.485 501.654 30.9805 499.311 30.9805Z",fill:"url(#paint0_linear_112_86)"}),g.jsx("defs",{children:g.jsxs("linearGradient",{id:"paint0_linear_112_86",x1:"-17.5407",y1:"25.518",x2:"537.705",y2:"25.518",gradientUnits:"userSpaceOnUse",children:[g.jsx("stop",{stopColor:"#FF6B6B"}),g.jsx("stop",{offset:"1",stopColor:"#FFB400"})]})})]})})})}async function o1(t){if(!t)return!1;try{const e=await ag(async()=>{const{data:n,error:r}=await le.from("subscriptions").select("status").eq("user_id",t).maybeSingle();if(r)throw r;return n});return(e==null?void 0:e.status)==="active"}catch(e){const{error:n}=og(e);return console.error("Error checking subscription:",n),!1}}const Kr=new M({apiKey:"abc",dangerouslyAllowBrowser:!0});function a1(){const[t,e]=z.useState({desiredDish:"",likedIngredients:"",dislikedIngredients:""}),[n,r]=z.useState(!1),[s,i]=z.useState(null),[o,a]=z.useState(null),[l,u]=z.useState(null),[c,h]=z.useState(!1),[f,y]=z.useState(!1),[w,_]=z.useState([]),[x,m]=z.useState(!1),[d,p]=z.useState(!1),[v,S]=z.useState(0),[b,C]=z.useState(!1);z.useEffect(()=>{le.auth.getSession().then(({data:{session:P}})=>{u((P==null?void 0:P.user)??null)});const{data:{subscription:k}}=le.auth.onAuthStateChange((P,A)=>{u((A==null?void 0:A.user)??null)});return()=>{k.unsubscribe()}},[]),z.useEffect(()=>{l&&(I(),T(),N())},[l]);const T=async()=>{const k=await o1(l==null?void 0:l.id);p(k)},N=async()=>{if(l)try{const k=new Date().toISOString().split("T")[0],P=await ag(async()=>{const{data:A,error:U}=await le.from("recipe_generations").select("count").eq("user_id",l.id).eq("date",k).maybeSingle();if(U)throw U;return A});S((P==null?void 0:P.count)||0)}catch(k){const{error:P}=og(k);console.error("Error loading daily generations:",P),S(0)}},O=async()=>{if(l)try{const k=new Date().toISOString().split("T")[0],{error:P}=await le.from("recipe_generations").upsert({user_id:l.id,date:k,count:v+1},{onConflict:"user_id,date",update:{count:v+1}});if(P){console.error("Error updating daily generations:",P);return}S(A=>A+1)}catch(k){console.error("Error incrementing daily generations:",k)}},I=async()=>{try{const{data:{user:k}}=await le.auth.getUser();if(!k)return;const{data:P,error:A}=await le.from("user_preferences").select("*").eq("user_id",k.id).maybeSingle();if(A&&A.code!=="PGRST116"){console.error("Error loading preferences:",A),a("Failed to load preferences");return}P&&(_(P.dietary_restrictions||[]),e(U=>({...U,likedIngredients:P.favorite_ingredients.join(", "),dislikedIngredients:P.disliked_ingredients.join(", ")})))}catch(k){console.error("Error loading preferences:",k),a("Failed to load preferences")}},Oe=async k=>{if(k.preventDefault(),!d&&v>=5){m(!0);return}r(!0),a(null),i(null);try{const P=w.length>0?`
Dietary restrictions: ${w.join(", ")}`:"",A=`Create a recipe based on these preferences:
Desired dish: ${t.desiredDish}${P}
Liked ingredients: ${t.likedIngredients}
Disliked ingredients: ${t.dislikedIngredients}

Please provide a detailed recipe in JSON format with the following structure:
{
  "title": "Recipe name",
  "ingredients": [{"name": "ingredient", "amount": "amount", "unit": "unit"}],
  "steps": [{"number": 1, "instruction": "step instruction"}],
  "cookingTime": {"prep": "time", "cook": "time", "total": "time"},
  "servings": number,
  "difficulty": "Easy/Medium/Hard"
}

IMPORTANT: Respond with ONLY the JSON object, no additional text.`,U=await Kr.beta.threads.create();await Kr.beta.threads.messages.create(U.id,{role:"user",content:A});const re=await Kr.beta.threads.runs.create(U.id,{assistant_id:"asst_174bXh18C91uWqqQx3MRnqus"});let it;for(;;){const we=await Kr.beta.threads.runs.retrieve(U.id,re.id);if(we.status==="completed"){it=(await Kr.beta.threads.messages.list(U.id)).data[0].content[0];break}else if(we.status==="failed")throw new Error("Failed to generate recipe");await new Promise(Mn=>setTimeout(Mn,1e3))}if((it==null?void 0:it.type)==="text"&&it.text)try{const we=JSON.parse(it.text.value);if(!st(we))throw new Error("Invalid recipe format received from AI");i(we),await O()}catch(we){throw console.error("Parse Error:",we),new Error(`Failed to parse recipe data: ${we.message}`)}else throw new Error("Unexpected response format from OpenAI")}catch(P){console.error("Error:",P),a(P instanceof Error?P.message:"Failed to generate recipe. Please try again.")}finally{r(!1)}},st=k=>{if(!k||typeof k!="object")return!1;const P=["title","ingredients","steps","cookingTime","servings","difficulty"];for(const A of P)if(!(A in k))return!1;if(!Array.isArray(k.ingredients))return!1;for(const A of k.ingredients)if(!A.name||!A.amount)return!1;if(!Array.isArray(k.steps))return!1;for(const A of k.steps)if(!A.number||!A.instruction)return!1;return!(!k.cookingTime.prep||!k.cookingTime.cook||!k.cookingTime.total)},Bt=k=>{const{name:P,value:A}=k.target;e(U=>({...U,[P]:A}))},Dn=()=>{let k="E.g., A healthy pasta dish, A spicy curry...";return w.length>0&&(k+=`
Note: Your dietary restrictions (${w.join(", ")}) will be considered.`),k},Lr=()=>d?"":`${5-v} of 5`,Fr=()=>{};return g.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 py-6 sm:py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{className:"text-sm text-gray-600",children:["Recipes remaining today: ",Lr()]}),g.jsx("div",{className:"flex items-center gap-2",children:l?g.jsxs("div",{className:"flex items-center gap-2",children:[!d&&g.jsxs("button",{onClick:()=>m(!0),className:"text-[#FF6B6B] hover:text-[#FF5555] flex items-center gap-1 bg-white px-3 py-1.5 rounded-lg shadow-sm",children:[g.jsx(qu,{className:"w-5 h-5"}),g.jsx("span",{className:"hidden sm:inline",children:"Upgrade"})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>C(!b),className:"text-gray-600 hover:text-gray-800 flex items-center gap-1 bg-white px-3 py-1.5 rounded-lg shadow-sm",children:[g.jsx(Nd,{className:"w-5 h-5"}),g.jsx("span",{className:"hidden sm:inline",children:"Settings"})]}),b&&g.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 z-50",children:[g.jsxs("button",{onClick:()=>{C(!1),y(!0)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[g.jsx(Nd,{className:"w-4 h-4"}),"Preferences"]}),g.jsxs("button",{onClick:()=>{C(!1),le.auth.signOut()},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[g.jsx(z0,{className:"w-4 h-4"}),"Sign Out"]})]})]})]}):g.jsxs("button",{onClick:()=>h(!0),className:"text-gray-600 hover:text-gray-800 flex items-center gap-1 bg-white px-3 py-1.5 rounded-lg shadow-sm",children:[g.jsx(M0,{className:"w-5 h-5"}),g.jsx("span",{className:"hidden sm:inline",children:"Sign In"})]})})]}),g.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[g.jsx(i1,{}),g.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:"Your personal AI chef for delicious, customized recipes"})]}),g.jsxs("form",{onSubmit:Oe,className:"space-y-4 sm:space-y-6 bg-white rounded-xl shadow-lg p-4 sm:p-6 mb-6 sm:mb-8",children:[g.jsxs("div",{className:"grid gap-4 sm:gap-6",children:[g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"desiredDish",className:"block text-sm font-medium text-gray-700 mb-1 sm:mb-2",children:["What would you like to eat?",w.length>0&&g.jsx("span",{className:"ml-2 text-[#FF6B6B] text-xs",children:"(Your dietary restrictions will be considered)"})]}),g.jsx("textarea",{id:"desiredDish",name:"desiredDish",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-sm sm:text-base",placeholder:Dn(),value:t.desiredDish,onChange:Bt,required:!0})]}),g.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"likedIngredients",className:"block text-sm font-medium text-gray-700 mb-1 sm:mb-2",children:"Ingredients you like"}),g.jsx("textarea",{id:"likedIngredients",name:"likedIngredients",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-sm sm:text-base",placeholder:"E.g., garlic, olive oil, tomatoes...",value:t.likedIngredients,onChange:Bt})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"dislikedIngredients",className:"block text-sm font-medium text-gray-700 mb-1 sm:mb-2",children:"Ingredients you don't like"}),g.jsx("textarea",{id:"dislikedIngredients",name:"dislikedIngredients",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-sm sm:text-base",placeholder:"E.g., mushrooms, cilantro...",value:t.dislikedIngredients,onChange:Bt})]})]})]}),g.jsx("button",{type:"submit",disabled:n||!t.desiredDish.trim()||!d&&v>=5,className:"w-full flex justify-center py-2 sm:py-3 px-4 border border-transparent rounded-md shadow-sm text-sm sm:text-base font-medium text-white bg-gradient-to-r from-[#FF6B6B] to-[#FFB400] hover:from-[#FF5555] hover:to-[#E6A300] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FF6B6B] disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:n?"Creating Your Recipe...":"Create My Recipe"}),!d&&v>=5&&g.jsxs("p",{className:"text-sm text-center text-gray-600",children:["You've reached your daily limit.",g.jsx("button",{type:"button",onClick:()=>m(!0),className:"ml-1 text-[#FF6B6B] hover:text-[#FF5555]",children:"Upgrade to Premium"})]})]}),o&&g.jsxs("div",{className:"mb-6 sm:mb-8 p-4 bg-red-50 border border-red-200 rounded-lg text-red-600 flex items-center gap-2",children:[g.jsx(Rd,{className:"w-5 h-5 flex-shrink-0"}),g.jsx("p",{className:"text-sm sm:text-base",children:o})]}),s&&g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[g.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:s.title}),l&&g.jsx(s1,{recipe:s,onSaved:Fr})]}),g.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 mb-6",children:[g.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex items-center gap-2",children:[g.jsx(U0,{className:"w-5 h-5 text-gray-600"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Time"}),g.jsx("p",{className:"font-semibold text-sm sm:text-base",children:s.cookingTime.total})]})]}),g.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex items-center gap-2",children:[g.jsx(V0,{className:"w-5 h-5 text-gray-600"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Servings"}),g.jsx("p",{className:"font-semibold text-sm sm:text-base",children:s.servings})]})]}),g.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex items-center gap-2 col-span-2 lg:col-span-1",children:[g.jsx(Rl,{className:"w-5 h-5 text-gray-600"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Difficulty"}),g.jsx("p",{className:"font-semibold text-sm sm:text-base",children:s.difficulty})]})]})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ingredients"}),g.jsx("ul",{className:"space-y-1",children:s.ingredients.map((k,P)=>g.jsxs("li",{className:"text-gray-700 text-sm sm:text-base flex items-start",children:[g.jsx("span",{className:"text-[#FF6B6B] mr-2",children:""}),g.jsxs("span",{children:[k.amount," ",k.unit," ",k.name]})]},P))})]}),g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Timing"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-gray-600",children:"Prep Time"}),g.jsx("p",{className:"font-medium",children:s.cookingTime.prep})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-gray-600",children:"Cook Time"}),g.jsx("p",{className:"font-medium",children:s.cookingTime.cook})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-gray-600",children:"Total Time"}),g.jsx("p",{className:"font-medium",children:s.cookingTime.total})]})]})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Instructions"}),g.jsx("ol",{className:"space-y-3",children:s.steps.map((k,P)=>g.jsx("li",{className:"text-gray-700 text-sm sm:text-base",children:g.jsxs("div",{className:"flex gap-3",children:[g.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-gradient-to-r from-[#FF6B6B] to-[#FFB400] text-white rounded-full flex items-center justify-center font-semibold text-sm",children:k.number}),g.jsx("span",{children:k.instruction})]})},P))})]})]}),!s&&!n&&!o&&g.jsxs("div",{className:"text-center text-gray-500 flex items-center justify-center gap-2",children:[g.jsx(Rd,{className:"w-5 h-5"}),g.jsx("span",{className:"text-sm sm:text-base",children:"Your personalized recipe will appear here"})]}),g.jsx(t1,{isOpen:c,onClose:()=>h(!1)}),g.jsx(n1,{isOpen:f,onClose:()=>y(!1),onUpdate:I}),g.jsx(r1,{isOpen:x,onClose:()=>m(!1)})]})})}Ma.createRoot(document.getElementById("root")).render(g.jsx(ji.StrictMode,{children:g.jsx(a1,{})}));export{lg as g};
